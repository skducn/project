2020-06-09 10:58:41.144 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11500 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 10:58:41.149 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 10:58:41.149 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 10:58:42.986 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 10:58:43.003 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 10:58:43.003 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 10:58:43.004 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 10:58:43.103 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 10:58:43.103 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1895 ms 
2020-06-09 10:58:43.223 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 10:58:43.434 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 10:58:44.294 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 10:58:44.557 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 10:58:44.581 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 10:58:44.681 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 10:58:45.046 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 10:58:45.062 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 10:58:45.062 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 10:58:45.660 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 10:58:45.696 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 10:58:45.697 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 10:58:45.880 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 10:58:46.682 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 10:58:46.728 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 10:58:46.748 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 6.453 seconds (JVM running for 7.007) 
2020-06-09 10:58:46.749 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:00:58.241 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:00:58.241 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:00:58.247 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 6 ms 
2020-06-09 11:00:58.330 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:00:58.335 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:00:58.345 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:00:58.351 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:00:58.352 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:00:58.364 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:00:58.371 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:00:58.371 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:00:58.378 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-09 11:00:58.385 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:00:58.386 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:00:58.392 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:00:58.398 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:00:58.399 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:00:58.404 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:00:58.408 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:00:58.409 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:00:58.410 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:00:58.410 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:00:58.418 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:00:58.422 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:00:58.422 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:00:58.525 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:00:58.527 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:00:58.529 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:00:58.537 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:00:58.547 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:00:58.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:00:58.550 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:00:58.550 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:00:58.555 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:00:58.577 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:00:58.579 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:00:58.555(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:00:58.555(Timestamp) 
2020-06-09 11:00:58.645 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:01:32.411 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 8516 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:01:32.417 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:01:32.417 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:01:33.853 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:01:33.865 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:01:33.865 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:01:33.866 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:01:33.940 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:01:33.941 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1436 ms 
2020-06-09 11:01:34.046 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:01:34.519 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:01:35.145 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:01:35.322 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:01:35.339 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:01:35.415 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:01:35.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:01:35.633 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:01:35.633 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:01:36.058 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:01:36.082 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:01:36.083 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:01:36.190 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:01:36.381 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:01:36.409 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:01:36.412 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.549 seconds (JVM running for 4.987) 
2020-06-09 11:01:36.414 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:02:17.114 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11872 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:02:17.117 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:02:17.117 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:02:18.571 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:02:18.582 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:02:18.583 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:02:18.583 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:02:18.648 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:02:18.648 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1445 ms 
2020-06-09 11:02:18.725 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:02:18.960 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:02:19.562 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:02:19.747 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:02:19.764 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:02:19.841 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:02:20.040 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:02:20.049 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:02:20.049 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:02:20.423 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:02:20.464 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:02:20.464 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:02:20.591 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:02:20.791 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:02:20.815 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:02:20.818 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.21 seconds (JVM running for 4.669) 
2020-06-09 11:02:20.819 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:06:01.210 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 14108 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:06:01.213 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:06:01.213 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:06:02.739 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:06:02.753 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:06:02.753 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:06:02.753 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:06:02.833 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:06:02.833 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1521 ms 
2020-06-09 11:06:02.924 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:06:03.193 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:06:03.818 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:06:04.009 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:06:04.028 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:06:04.103 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:06:04.318 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:06:04.328 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:06:04.329 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:06:04.809 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:06:04.833 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:06:04.833 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:06:04.941 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:06:05.139 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:06:05.163 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:06:05.166 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.488 seconds (JVM running for 4.927) 
2020-06-09 11:06:05.167 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:07:00.542 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7984 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:07:00.545 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:07:00.545 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:07:02.042 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:07:02.053 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:07:02.054 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:07:02.054 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:07:02.122 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:07:02.122 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1495 ms 
2020-06-09 11:07:02.200 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:07:02.456 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:07:03.062 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:07:03.254 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:07:03.275 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:07:03.352 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:07:03.552 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:07:03.562 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:07:03.563 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:07:04.047 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:07:04.070 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:07:04.071 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:07:04.185 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:07:04.381 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:07:04.404 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:07:04.408 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.394 seconds (JVM running for 4.879) 
2020-06-09 11:07:04.409 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:07:31.939 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 2848 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:07:31.942 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:07:31.943 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:07:33.461 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:07:33.476 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:07:33.477 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:07:33.477 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:07:33.556 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:07:33.556 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1498 ms 
2020-06-09 11:07:33.643 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:07:33.905 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:07:34.518 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:07:34.705 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:07:34.723 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:07:34.797 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:07:35.004 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:07:35.016 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:07:35.016 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:07:35.485 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:07:35.510 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:07:35.510 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:07:35.627 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:07:35.828 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:07:35.852 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:07:35.855 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.493 seconds (JVM running for 4.942) 
2020-06-09 11:07:35.856 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:10:30.427 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 2576 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:10:30.430 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:10:30.430 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:10:31.898 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:10:31.909 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:10:31.910 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:10:31.910 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:10:31.977 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:10:31.977 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1473 ms 
2020-06-09 11:10:32.058 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:10:32.329 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:10:32.999 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:10:33.195 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:10:33.216 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:10:33.293 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:10:33.510 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:10:33.525 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:10:33.526 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:10:33.994 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:10:34.020 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:10:34.020 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:10:34.122 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:10:34.318 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:10:34.342 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:10:34.344 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.437 seconds (JVM running for 4.87) 
2020-06-09 11:10:34.345 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:13:29.911 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7824 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:13:29.916 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:13:29.917 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:13:31.458 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:13:31.469 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:13:31.470 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:13:31.470 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:13:31.535 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:13:31.536 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1533 ms 
2020-06-09 11:13:31.615 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:13:31.882 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:13:32.512 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:13:32.709 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:13:32.729 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:13:32.821 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:13:33.040 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:13:33.051 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:13:33.051 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:13:33.516 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:13:33.540 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:13:33.540 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:13:33.641 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:13:33.839 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:13:33.864 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:13:33.867 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.564 seconds (JVM running for 5.074) 
2020-06-09 11:13:33.868 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:13:39.257 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:13:39.257 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:13:39.264 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 11:13:39.305 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:13:39.311 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:13:39.326 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:13:39.332 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:13:39.332 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:13:39.341 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:13:39.346 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:13:39.346 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:13:39.352 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:13:39.357 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:13:39.358 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:13:39.363 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:13:39.367 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:13:39.368 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:13:39.375 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:13:39.378 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:13:39.379 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:13:39.379 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:13:39.380 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:13:39.386 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:13:39.390 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:13:39.390 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:13:39.507 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:13:39.509 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:13:39.511 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:13:39.518 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:13:39.529 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:13:39.530 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:13:39.531 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:13:39.532 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:13:39.540 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:13:39.568 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:13:39.569 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:13:39.541(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:13:39.541(Timestamp) 
2020-06-09 11:13:39.635 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:29:16.513 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 14700 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:29:16.516 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:29:16.517 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:29:17.975 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:29:17.987 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:29:17.988 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:29:17.988 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:29:18.053 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:29:18.053 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1453 ms 
2020-06-09 11:29:18.131 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:29:18.415 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:29:19.069 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:29:19.297 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:29:19.315 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:29:19.390 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:29:19.594 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:29:19.605 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:29:19.606 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:29:20.092 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:29:20.116 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:29:20.116 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:29:20.258 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:29:20.461 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:29:20.486 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:29:20.488 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.49 seconds (JVM running for 4.943) 
2020-06-09 11:29:20.490 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:32:30.486 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 6072 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:32:30.489 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:32:30.491 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:32:31.949 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:32:31.960 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:32:31.961 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:32:31.961 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:32:32.028 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:32:32.028 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1451 ms 
2020-06-09 11:32:32.104 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:32:32.369 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:32:33.042 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:32:33.251 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:32:33.268 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:32:33.338 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:32:33.529 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:32:33.540 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:32:33.541 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:32:33.973 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:32:33.997 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:32:33.997 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:32:34.104 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:32:34.302 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:32:34.326 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:32:34.329 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.359 seconds (JVM running for 4.818) 
2020-06-09 11:32:34.330 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:32:34.392 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:32:34.392 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:32:34.399 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 11:32:34.433 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:32:34.438 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:32:34.461 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:32:34.466 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:32:34.467 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:32:34.476 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:32:34.481 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:32:34.482 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:32:34.490 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:32:34.496 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:32:34.497 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:32:34.503 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:32:34.510 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:32:34.510 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:32:34.516 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:32:34.520 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:32:34.520 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:32:34.521 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:32:34.522 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:32:34.527 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:32:34.531 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:32:34.532 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:32:34.635 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:32:34.637 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:32:34.638 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:32:34.645 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:32:34.653 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:32:34.654 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:32:34.656 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:32:34.656 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:32:34.659 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:32:34.687 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:32:34.688 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:32:34.66(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:32:34.66(Timestamp) 
2020-06-09 11:32:34.744 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:34:12.960 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11244 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:34:12.968 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:34:12.968 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:34:14.402 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:34:14.413 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:34:14.414 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:34:14.414 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:34:14.484 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:34:14.484 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1428 ms 
2020-06-09 11:34:14.565 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:34:14.814 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:34:15.447 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:34:15.670 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:34:15.687 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:34:15.760 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:34:15.969 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:34:15.979 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:34:15.980 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:34:16.447 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:34:16.472 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:34:16.473 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:34:16.579 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:34:16.771 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:34:16.796 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:34:16.799 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.344 seconds (JVM running for 4.793) 
2020-06-09 11:34:16.800 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:34:16.902 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:34:16.903 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:34:16.910 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 11:34:16.944 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:34:16.949 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:34:16.966 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:34:16.971 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:34:16.972 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:34:16.982 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:34:16.988 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:34:16.990 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:34:16.999 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:34:17.005 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:34:17.006 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:34:17.011 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:34:17.016 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:34:17.018 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:34:17.024 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:34:17.028 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:34:17.029 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:34:17.030 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:34:17.031 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:34:17.037 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:34:17.042 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:34:17.043 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:34:17.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:34:17.139 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:34:17.141 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:34:17.147 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:34:17.156 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:34:17.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:34:17.159 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:34:17.159 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:34:17.162 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:34:17.194 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:34:17.197 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:34:17.163(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:34:17.163(Timestamp) 
2020-06-09 11:34:17.227 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:36:00.577 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 13492 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:36:00.580 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:36:00.581 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:36:01.998 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:36:02.010 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:36:02.011 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:36:02.012 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:36:02.079 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:36:02.079 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1416 ms 
2020-06-09 11:36:02.157 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:36:02.405 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:36:03.075 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:36:03.265 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:36:03.282 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:36:03.360 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-09 11:36:03.588 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-09 11:36:03.597 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:36:03.597 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:36:04.082 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:36:04.107 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:36:04.107 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:36:04.208 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:36:04.400 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:36:04.423 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:36:04.426 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.38 seconds (JVM running for 4.818) 
2020-06-09 11:36:04.427 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:36:04.608 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:36:04.609 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:36:04.616 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 11:36:04.650 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:36:04.655 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:36:04.665 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:36:04.671 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:36:04.671 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:36:04.679 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:36:04.684 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:36:04.685 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:36:04.690 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:36:04.696 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:36:04.697 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:36:04.702 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:36:04.706 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:36:04.707 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:36:04.712 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:36:04.715 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:36:04.716 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:36:04.716 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:36:04.717 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:36:04.722 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:36:04.726 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:36:04.726 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:36:04.819 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:36:04.824 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:36:04.826 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:36:04.832 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:36:04.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:36:04.844 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:36:04.845 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:36:04.846 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:36:04.853 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:36:04.880 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:36:04.883 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:36:04.854(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:36:04.854(Timestamp) 
2020-06-09 11:36:04.915 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:38:23.809 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7984 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:38:23.815 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:38:23.815 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:38:25.396 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:38:25.407 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:38:25.408 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:38:25.409 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:38:25.486 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:38:25.486 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1460 ms 
2020-06-09 11:38:25.571 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:38:25.842 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:38:26.498 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:38:26.702 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:38:26.719 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:38:26.792 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 307 
2020-06-09 11:38:26.985 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：307 条 
2020-06-09 11:38:26.996 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:38:26.996 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:38:27.471 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:38:27.497 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:38:27.497 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:38:27.601 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:38:27.799 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:38:27.821 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:38:27.824 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.599 seconds (JVM running for 5.077) 
2020-06-09 11:38:27.826 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:39:09.428 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 14224 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:39:09.431 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:39:09.432 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:39:10.960 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:39:10.973 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:39:10.973 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:39:10.974 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:39:11.056 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:39:11.056 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1572 ms 
2020-06-09 11:39:11.162 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:39:11.329 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:39:12.022 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:39:12.254 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:39:12.271 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:39:12.343 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 307 
2020-06-09 11:39:12.549 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：307 条 
2020-06-09 11:39:12.560 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:39:12.560 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:39:13.029 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:39:13.057 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:39:13.058 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:39:13.187 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:39:13.398 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:39:13.427 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:39:13.430 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.539 seconds (JVM running for 4.977) 
2020-06-09 11:39:13.431 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:39:29.617 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:39:29.618 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:39:29.654 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 36 ms 
2020-06-09 11:39:29.687 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:39:29.692 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:39:29.707 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:39:29.713 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:39:29.713 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:39:29.722 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:39:29.727 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:39:29.728 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:39:29.734 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:39:29.738 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:39:29.739 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:39:29.744 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:39:29.751 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:39:29.752 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:39:29.758 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:39:29.762 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:39:29.762 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:39:29.763 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:39:29.763 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:39:29.769 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:39:29.773 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:39:29.773 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:39:29.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:婚姻超出字典范围婚姻状况不在字典范围内（1 未婚  2 已婚  3 丧偶  4 离婚  5 未说明的婚姻状况 ） 
2020-06-09 11:39:29.850 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:39:29.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:39:29.859 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:39:29.868 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:医疗费用支付方式超出字典范围医疗费用支付方式不在字典范围内（1 城镇职工基本医疗保险  2 城镇居民基本医疗保险  3 新型农村合作医疗  4 贫困救助  5 商业医疗保险   6 全公费  7 全自费  8 其他 ） 
2020-06-09 11:39:29.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:39:29.871 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:39:29.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:39:29.876 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-09 11:39:29.904 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:39:29.907 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 41eaf8c413c84f89a816aa51db357fc3(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), c4ff94b2fbdf4e889a5cfa517edd74c9(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:39:29.877(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:39:29.877(Timestamp) 
2020-06-09 11:39:29.938 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-09 11:40:29.884 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 13248 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:40:29.887 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:40:29.888 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:40:31.377 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:40:31.389 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:40:31.390 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:40:31.390 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:40:31.459 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:40:31.459 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1475 ms 
2020-06-09 11:40:31.543 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:40:31.806 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:40:32.474 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:40:32.661 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:40:32.679 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:40:32.749 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 305 
2020-06-09 11:40:32.958 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：305 条 
2020-06-09 11:40:32.968 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:40:32.969 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:40:33.438 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:40:33.459 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:40:33.460 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:40:33.561 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:40:33.759 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:40:33.783 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:40:33.786 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.464 seconds (JVM running for 4.925) 
2020-06-09 11:40:33.787 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:40:37.690 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:40:37.690 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:40:37.699 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 11:40:37.734 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:40:37.739 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:40:37.747 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:40:37.752 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:40:37.753 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:40:37.763 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:40:37.768 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:40:37.768 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:40:37.774 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:40:37.780 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:40:37.780 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:40:37.785 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:40:37.790 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:40:37.790 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:40:37.795 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:40:37.800 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:40:37.800 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:40:37.801 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:40:37.802 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:40:37.807 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:40:37.811 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:40:37.812 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:40:37.921 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:40:37.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:40:37.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:40:37.938 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:40:37.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:40:37.940 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:40:37.944 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:40:37.970 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:40:37.971 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:40:37.944(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:40:37.944(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:40:37.944(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:40:37.944(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:40:37.944(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:40:37.944(Timestamp) 
2020-06-09 11:40:37.995 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 11:40:59.166 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7424 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:40:59.169 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:40:59.169 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:41:00.629 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:41:00.641 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:41:00.641 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:41:00.642 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:41:00.714 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:41:00.715 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1455 ms 
2020-06-09 11:41:00.804 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:41:01.066 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:41:01.681 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:41:01.875 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:41:01.892 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:41:01.966 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 305 
2020-06-09 11:41:02.168 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：305 条 
2020-06-09 11:41:02.179 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:41:02.179 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:41:02.615 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:41:02.637 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:41:02.638 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:41:02.767 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:41:02.964 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:41:02.988 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:41:02.990 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.328 seconds (JVM running for 4.802) 
2020-06-09 11:41:02.991 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:41:06.893 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:41:06.893 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:41:06.901 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 11:41:06.936 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:41:06.942 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:41:06.950 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:41:06.956 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:41:06.956 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:41:06.971 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:41:06.976 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:41:06.976 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:41:06.984 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:41:06.990 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:41:06.990 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:41:07.000 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:41:07.005 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:41:07.005 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:41:07.011 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:41:07.015 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:41:07.016 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:41:07.016 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:41:07.017 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:41:07.024 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:41:07.028 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:41:07.029 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:41:07.131 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:41:07.132 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:41:07.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:41:07.147 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:41:07.148 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:41:07.149 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:41:07.152 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:41:07.173 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:41:07.175 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:41:07.152(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:41:07.152(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:41:07.152(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:41:07.152(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:41:07.152(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:41:07.152(Timestamp) 
2020-06-09 11:41:07.208 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 11:45:30.040 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 2964 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:45:30.043 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:45:30.044 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:45:31.486 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:45:31.498 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:45:31.499 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:45:31.499 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:45:31.572 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:45:31.572 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1449 ms 
2020-06-09 11:45:31.673 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:45:31.936 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:45:32.606 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:45:32.826 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:45:32.843 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:45:32.912 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 305 
2020-06-09 11:45:33.124 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：305 条 
2020-06-09 11:45:33.134 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:45:33.135 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:45:33.504 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:45:33.528 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:45:33.528 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:45:33.642 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:45:33.849 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:45:33.874 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:45:33.877 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.372 seconds (JVM running for 4.816) 
2020-06-09 11:45:33.879 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:45:37.882 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:45:37.882 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:45:37.890 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 11:45:37.924 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:45:37.930 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:45:37.939 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:45:37.944 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:45:37.945 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:45:37.953 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:45:37.958 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:45:37.958 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:45:37.963 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:45:37.969 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:45:37.970 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:45:37.975 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:45:37.979 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:45:37.980 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:45:37.985 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:45:37.989 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:45:37.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:45:37.990 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:45:37.991 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:45:37.996 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:45:38.000 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:45:38.001 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:45:38.107 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:45:38.109 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:45:38.126 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:45:38.135 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:45:38.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:45:38.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:45:38.140 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:45:38.161 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:45:38.162 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:45:38.14(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:45:38.14(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:45:38.14(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:45:38.14(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:45:38.14(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:45:38.14(Timestamp) 
2020-06-09 11:45:38.221 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 11:47:07.886 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 8052 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:47:07.889 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:47:07.890 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:47:09.356 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:47:09.368 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:47:09.368 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:47:09.369 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:47:09.434 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:47:09.435 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1452 ms 
2020-06-09 11:47:09.515 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:47:09.788 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:47:10.469 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:47:10.687 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:47:10.705 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:47:10.777 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 11:47:10.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 11:47:10.989 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:47:10.989 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:47:11.458 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:47:11.482 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:47:11.482 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:47:11.584 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:47:11.776 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:47:11.800 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:47:11.802 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.483 seconds (JVM running for 4.918) 
2020-06-09 11:47:11.804 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:47:15.963 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:47:15.963 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:47:15.973 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 10 ms 
2020-06-09 11:47:16.007 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:47:16.013 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:47:16.031 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:47:16.036 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:47:16.037 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:47:16.046 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:47:16.051 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:47:16.051 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:47:16.058 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:47:16.063 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:47:16.064 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:47:16.073 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:47:16.078 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:47:16.078 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:47:16.083 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:47:16.087 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:47:16.087 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:47:16.088 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:47:16.088 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:47:16.094 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:47:16.099 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:47:16.099 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:47:16.198 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:47:16.199 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:47:16.207 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:47:16.229 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:47:16.231 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:47:16.231 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:47:16.243 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:47:16.266 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:47:16.267 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:47:16.244(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:47:16.244(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:47:16.244(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:47:16.244(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:47:16.244(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:47:16.244(Timestamp) 
2020-06-09 11:47:16.340 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 11:48:28.779 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 3188 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:48:28.782 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:48:28.783 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:48:30.222 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:48:30.234 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:48:30.235 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:48:30.235 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:48:30.301 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:48:30.301 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1431 ms 
2020-06-09 11:48:30.379 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:48:30.630 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:48:31.273 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:48:31.471 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:48:31.489 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:48:31.560 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 11:48:31.771 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 11:48:31.783 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:48:31.783 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:48:32.236 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:48:32.258 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:48:32.259 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:48:32.364 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:48:32.549 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:48:32.573 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:48:32.576 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.339 seconds (JVM running for 4.779) 
2020-06-09 11:48:32.577 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:48:36.718 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:48:36.719 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:48:36.727 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 11:48:36.761 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:48:36.766 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:48:36.777 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:48:36.782 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:48:36.783 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:48:36.792 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:48:36.797 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:48:36.798 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:48:36.807 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:48:36.812 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:48:36.813 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:48:36.818 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:48:36.823 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:48:36.823 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:48:36.832 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:48:36.837 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:48:36.837 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:48:36.838 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:48:36.839 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:48:36.844 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:48:36.848 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:48:36.849 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:48:36.943 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:48:36.944 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:48:36.949 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:48:36.960 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:48:36.961 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:48:36.962 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:48:36.965 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:48:36.991 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:48:36.992 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:48:36.965(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:48:36.965(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:48:36.965(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:48:36.965(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:48:36.965(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:48:36.965(Timestamp) 
2020-06-09 11:48:37.020 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 11:58:22.656 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9308 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 11:58:22.659 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 11:58:22.660 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 11:58:24.193 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 11:58:24.204 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:58:24.204 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 11:58:24.205 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 11:58:24.276 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 11:58:24.277 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1536 ms 
2020-06-09 11:58:24.376 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 11:58:24.644 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 11:58:25.326 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 11:58:25.513 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 11:58:25.531 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 11:58:25.604 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 11:58:25.809 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 11:58:25.820 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 11:58:25.820 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 11:58:26.099 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 11:58:26.122 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 11:58:26.122 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 11:58:26.240 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 11:58:26.427 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 11:58:26.451 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 11:58:26.453 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.34 seconds (JVM running for 4.823) 
2020-06-09 11:58:26.455 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 11:58:30.569 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 11:58:30.570 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 11:58:30.576 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 6 ms 
2020-06-09 11:58:30.610 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 11:58:30.616 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:58:30.623 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 11:58:30.629 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 11:58:30.630 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 11:58:30.638 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 11:58:30.643 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 11:58:30.644 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 11:58:30.654 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 11:58:30.659 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 11:58:30.660 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:58:30.665 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 11:58:30.669 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:58:30.669 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:58:30.681 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:58:30.684 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 11:58:30.684 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 11:58:30.685 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 11:58:30.685 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 11:58:30.690 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 11:58:30.695 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 11:58:30.695 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 11:58:30.792 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 11:58:30.793 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 11:58:30.798 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 11:58:30.812 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 11:58:30.813 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 11:58:30.814 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 11:58:30.817 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 11:58:30.842 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 11:58:30.844 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 11:58:30.817(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 11:58:30.817(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 11:58:30.817(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 11:58:30.817(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 11:58:30.817(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 11:58:30.817(Timestamp) 
2020-06-09 11:58:30.890 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:01:01.379 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7372 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:01:01.385 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:01:01.385 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:01:02.902 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:01:02.914 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:01:02.915 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:01:02.915 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:01:02.989 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:01:02.990 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1521 ms 
2020-06-09 12:01:03.072 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:01:03.341 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:01:03.975 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:01:04.164 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:01:04.181 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:01:04.260 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:01:04.472 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:01:04.486 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:01:04.486 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:01:04.932 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:01:04.959 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:01:04.959 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:01:05.069 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:01:05.261 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:01:05.284 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:01:05.287 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.444 seconds (JVM running for 4.9) 
2020-06-09 12:01:05.288 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:01:39.939 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 13252 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:01:39.942 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:01:39.942 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:01:41.399 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:01:41.411 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:01:41.412 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:01:41.412 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:01:41.479 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:01:41.480 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1449 ms 
2020-06-09 12:01:41.570 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:01:41.858 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:01:42.572 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:01:42.765 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:01:42.784 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:01:42.857 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:01:43.051 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:01:43.062 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:01:43.063 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:01:43.537 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:01:43.562 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:01:43.563 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:01:43.673 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:01:43.866 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:01:43.891 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:01:43.894 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.494 seconds (JVM running for 4.94) 
2020-06-09 12:01:43.895 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:01:47.902 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:01:47.903 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:01:47.910 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 12:01:47.945 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:01:47.950 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:01:47.971 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:01:47.976 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:01:47.976 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:01:47.986 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:01:47.991 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:01:47.991 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:01:47.999 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:01:48.005 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:01:48.006 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:01:48.011 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:01:48.019 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:01:48.019 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:01:48.026 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:01:48.030 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:01:48.030 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:01:48.031 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:01:48.031 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:01:48.036 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:01:48.041 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:01:48.041 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:01:48.136 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:01:48.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:01:48.142 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:01:48.152 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:01:48.154 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:01:48.154 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:01:48.157 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:01:48.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:01:48.184 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:01:48.158(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:01:48.158(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:01:48.158(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:01:48.158(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:01:48.158(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:01:48.158(Timestamp) 
2020-06-09 12:01:48.246 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:03:44.679 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 10764 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:03:44.682 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:03:44.682 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:03:46.156 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:03:46.167 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:03:46.168 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:03:46.168 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:03:46.235 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:03:46.235 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1469 ms 
2020-06-09 12:03:46.314 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:03:46.598 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:03:47.222 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:03:47.404 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:03:47.422 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:03:47.507 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:03:47.719 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:03:47.731 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:03:47.732 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:03:48.133 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:03:48.158 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:03:48.158 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:03:48.268 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:03:48.470 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:03:48.495 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:03:48.497 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.364 seconds (JVM running for 4.799) 
2020-06-09 12:03:48.499 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:03:52.523 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:03:52.524 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:03:52.531 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 12:03:52.566 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:03:52.571 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:03:52.581 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:03:52.586 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:03:52.587 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:03:52.598 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:03:52.603 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:03:52.603 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:03:52.608 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:03:52.614 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:03:52.615 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:03:52.619 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:03:52.624 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:03:52.624 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:03:52.629 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:03:52.633 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:03:52.634 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:03:52.634 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:03:52.635 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:03:52.640 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:03:52.644 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:03:52.645 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:03:52.741 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:03:52.743 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:03:52.748 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:03:52.761 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:03:52.762 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:03:52.762 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:03:52.765 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:03:52.797 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:03:52.799 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:03:52.766(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:03:52.766(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:03:52.766(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:03:52.766(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:03:52.766(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:03:52.766(Timestamp) 
2020-06-09 12:03:52.835 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:10:06.238 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7240 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:10:06.288 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:10:06.289 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:10:07.797 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:10:07.811 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:10:07.811 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:10:07.812 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:10:07.884 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:10:07.884 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1515 ms 
2020-06-09 12:10:07.964 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:10:08.214 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:10:08.813 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:10:08.990 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:10:09.009 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:10:09.084 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:10:09.277 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:10:09.296 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:10:09.296 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:10:09.621 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:10:09.645 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:10:09.646 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:10:09.761 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:10:09.965 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:10:09.990 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:10:09.992 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.332 seconds (JVM running for 4.766) 
2020-06-09 12:10:09.993 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:10:27.894 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 4872 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:10:27.898 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:10:27.898 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:10:29.337 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:10:29.349 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:10:29.350 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:10:29.350 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:10:29.417 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:10:29.418 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1434 ms 
2020-06-09 12:10:29.525 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:10:29.779 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:10:30.408 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:10:30.598 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:10:30.617 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:10:30.689 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:10:30.895 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:10:30.906 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:10:30.907 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:10:31.361 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:10:31.383 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:10:31.384 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:10:31.497 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:10:31.733 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:10:31.756 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:10:31.759 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.429 seconds (JVM running for 4.886) 
2020-06-09 12:10:31.760 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:10:32.743 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:10:32.743 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:10:32.752 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 9 ms 
2020-06-09 12:10:32.788 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:10:32.793 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:10:32.808 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:10:32.814 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:10:32.815 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:10:32.824 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:10:32.829 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:10:32.829 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:10:32.835 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:10:32.841 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:10:32.842 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:10:32.847 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:10:32.852 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:10:32.852 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:10:32.857 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:10:32.861 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:10:32.862 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:10:32.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:10:32.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:10:32.869 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:10:32.873 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:10:32.874 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:10:32.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:10:32.988 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:10:32.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:10:33.003 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:10:33.004 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:10:33.005 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:10:33.008 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:10:33.032 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:10:33.034 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:10:33.008(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:10:33.008(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:10:33.008(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:10:33.008(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:10:33.008(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:10:33.008(Timestamp) 
2020-06-09 12:10:33.057 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:11:45.878 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 1312 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:11:45.882 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:11:45.882 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:11:47.352 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:11:47.369 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:11:47.371 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:11:47.371 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:11:47.440 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:11:47.441 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1473 ms 
2020-06-09 12:11:47.518 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:11:47.792 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:11:48.406 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:11:48.599 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:11:48.621 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:11:48.693 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:11:48.891 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:11:48.902 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:11:48.902 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:11:49.337 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:11:49.361 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:11:49.361 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:11:49.505 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:11:49.703 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:11:49.727 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:11:49.729 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.366 seconds (JVM running for 4.819) 
2020-06-09 12:11:49.731 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:11:49.891 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:11:49.891 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:11:49.899 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 12:11:49.935 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:11:49.941 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:11:49.949 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:11:49.955 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:11:49.956 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:11:49.965 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:11:49.970 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:11:49.971 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:11:49.978 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:11:49.984 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:11:49.984 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:49.989 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:11:49.993 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:11:49.994 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:49.999 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:11:50.004 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:11:50.004 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:11:50.005 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:11:50.005 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:50.011 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:11:50.015 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:11:50.015 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:11:50.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:11:50.104 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:11:50.109 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:11:50.118 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:11:50.119 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:11:50.120 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:11:50.123 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:11:50.148 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:11:50.149 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:11:50.123(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:11:50.123(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:11:50.123(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:11:50.123(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:11:50.123(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:11:50.123(Timestamp) 
2020-06-09 12:11:50.175 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:11:53.434 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:11:53.435 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:11:53.442 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:11:53.448 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:11:53.449 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:11:53.455 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:11:53.460 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:11:53.461 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:11:53.467 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:11:53.472 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:11:53.472 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:53.477 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:11:53.481 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:11:53.482 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:53.487 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:11:53.491 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:11:53.492 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:11:53.492 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:11:53.493 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:11:53.499 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:11:53.502 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:11:53.502 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:11:53.547 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:11:53.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名填写不规范同时满足以下条件： 1、联系人姓名不为空值 2、联系人姓名为纯数字 
2020-06-09 12:11:53.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:11:53.551 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:11:53.554 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:11:53.555 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:11:53.555 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:11:53.557 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-09 12:11:53.558 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:11:53.559 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), 61ed70b670f2460a94ebc183f6b86f5d(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:11:53.557(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:11:53.557(Timestamp) 
2020-06-09 12:11:53.574 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-09 12:22:43.102 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9564 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:22:43.105 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:22:43.105 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:22:44.570 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:22:44.584 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:22:44.584 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:22:44.585 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:22:44.653 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:22:44.654 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1449 ms 
2020-06-09 12:22:44.735 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:22:45.001 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:22:45.656 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:22:45.857 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:22:45.874 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:22:45.949 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:22:46.147 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:22:46.157 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:22:46.158 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:22:46.546 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:22:46.570 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:22:46.570 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:22:46.703 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:22:46.895 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:22:46.919 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:22:46.922 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.327 seconds (JVM running for 4.784) 
2020-06-09 12:22:46.923 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:22:47.126 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:22:47.126 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:22:47.134 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 12:22:47.170 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:22:47.177 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:22:47.184 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:22:47.192 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:22:47.193 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:22:47.212 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:22:47.217 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:22:47.218 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:22:47.223 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:22:47.229 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:22:47.230 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:47.235 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:22:47.240 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:22:47.240 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:47.245 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:22:47.250 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:22:47.250 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:22:47.251 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:22:47.251 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:47.257 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:22:47.261 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:22:47.262 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:22:47.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:22:47.353 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:22:47.359 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:22:47.370 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:22:47.373 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:22:47.375 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:22:47.378 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:22:47.404 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:22:47.408 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:22:47.378(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:22:47.378(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:22:47.378(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:22:47.378(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:22:47.378(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:22:47.378(Timestamp) 
2020-06-09 12:22:47.437 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:22:50.761 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:22:50.762 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:22:50.769 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:22:50.775 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:22:50.776 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:22:50.782 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:22:50.786 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:22:50.787 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:22:50.794 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:22:50.799 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:22:50.800 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:50.804 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:22:50.809 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:22:50.810 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:50.814 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:22:50.819 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:22:50.819 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:22:50.820 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:22:50.820 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:22:50.825 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:22:50.829 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:22:50.830 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:22:50.893 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:22:50.894 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名填写不规范同时满足以下条件： 1、联系人姓名不为空值 2、联系人姓名为纯数字 
2020-06-09 12:22:50.894 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:22:50.896 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:22:50.899 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:22:50.900 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:22:50.901 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:22:50.902 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-09 12:22:50.904 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:22:50.905 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), 61ed70b670f2460a94ebc183f6b86f5d(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:22:50.902(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:22:50.902(Timestamp) 
2020-06-09 12:22:50.944 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-09 12:23:37.090 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 10632 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:23:37.093 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:23:37.093 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:23:38.510 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:23:38.522 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:23:38.523 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:23:38.523 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:23:38.590 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:23:38.591 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1415 ms 
2020-06-09 12:23:38.674 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:23:38.954 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:23:39.608 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:23:39.845 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:23:39.864 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:23:39.933 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:23:40.125 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:23:40.135 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:23:40.135 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:23:40.612 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:23:40.635 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:23:40.635 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:23:40.736 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:23:40.944 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:23:40.967 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:23:40.971 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.419 seconds (JVM running for 4.858) 
2020-06-09 12:23:40.972 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:23:41.029 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:23:41.029 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:23:41.037 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 12:23:41.074 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:23:41.079 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:41.087 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:23:41.092 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:23:41.092 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:41.100 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:23:41.107 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:23:41.107 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:23:41.114 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:23:41.120 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:23:41.120 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:41.126 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:23:41.131 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:41.131 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:41.137 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:41.143 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:23:41.143 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:23:41.144 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:41.144 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:41.150 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:41.155 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:23:41.156 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:23:41.255 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:23:41.257 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:23:41.262 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:23:41.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:23:41.274 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:23:41.275 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:23:41.278 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:23:41.302 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:23:41.304 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:23:41.278(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:23:41.278(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:23:41.278(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:23:41.278(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:23:41.278(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:23:41.278(Timestamp) 
2020-06-09 12:23:41.336 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:23:44.663 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:23:44.677 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:44.687 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:23:44.700 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:23:44.701 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:44.708 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:23:44.715 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:23:44.718 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:23:44.727 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:23:44.735 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:23:44.737 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:44.743 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:23:44.751 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:44.752 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:44.758 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:44.763 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:23:44.766 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:23:44.768 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:44.772 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:44.782 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:44.789 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:23:44.789 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:23:44.941 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:23:44.942 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:23:44.946 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:23:44.957 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:23:44.958 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:23:44.958 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:23:44.960 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:23:44.964 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:23:44.965 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:23:44.96(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:23:44.96(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:23:44.96(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:23:44.96(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:23:44.96(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:23:44.96(Timestamp) 
2020-06-09 12:23:45.028 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:23:48.773 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:23:48.774 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:48.785 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:23:48.791 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:23:48.792 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:23:48.809 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:23:48.817 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:23:48.818 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:23:48.826 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:23:48.832 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:23:48.833 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:48.839 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:23:48.846 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:48.847 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:48.853 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:48.861 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:23:48.862 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:23:48.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:23:48.865 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:23:48.874 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:23:48.879 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:23:48.880 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:23:48.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:23:48.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:23:48.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:23:48.931 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:23:48.932 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:23:48.933 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:23:48.934 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:23:48.936 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:23:48.937 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:23:48.935(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:23:48.935(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:23:48.935(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:23:48.935(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:23:48.935(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:23:48.935(Timestamp) 
2020-06-09 12:23:48.954 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:25:28.762 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 5832 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:25:28.766 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:25:28.766 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:25:30.232 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:25:30.244 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:25:30.245 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:25:30.245 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:25:30.310 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:25:30.310 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1455 ms 
2020-06-09 12:25:30.394 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:25:30.640 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:25:31.257 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:25:31.436 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:25:31.452 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:25:31.527 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:25:31.718 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:25:31.729 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:25:31.729 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:25:32.185 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:25:32.207 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:25:32.208 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:25:32.344 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:25:32.535 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:25:32.559 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:25:32.561 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.351 seconds (JVM running for 4.884) 
2020-06-09 12:25:32.562 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 12:25:34.136 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 12:25:34.136 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 12:25:34.144 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-09 12:25:34.179 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:25:34.184 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:34.192 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:25:34.197 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:25:34.198 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:34.206 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:25:34.211 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:25:34.212 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:25:34.218 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:25:34.223 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:25:34.224 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:34.229 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:25:34.233 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:34.234 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:34.239 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:34.243 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:25:34.243 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:25:34.244 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:34.244 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:34.250 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:34.254 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:25:34.254 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:25:34.346 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:25:34.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:25:34.352 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:25:34.363 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:25:34.367 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:25:34.368 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:25:34.371 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:25:34.403 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:25:34.405 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:25:34.372(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:25:34.372(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:25:34.372(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:25:34.372(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:25:34.372(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:25:34.372(Timestamp) 
2020-06-09 12:25:34.462 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:25:38.058 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:25:38.059 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:38.068 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:25:38.073 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:25:38.073 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:38.082 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:25:38.086 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:25:38.087 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:25:38.094 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:25:38.099 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:25:38.099 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:38.104 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:25:38.108 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:38.109 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:38.114 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:38.119 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:25:38.120 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:25:38.120 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:38.121 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:38.127 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:38.130 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:25:38.130 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:25:38.158 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:25:38.159 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:25:38.162 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:25:38.166 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:25:38.166 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:25:38.167 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:25:38.168 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:25:38.170 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:25:38.171 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:25:38.168(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:25:38.168(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:25:38.168(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:25:38.168(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:25:38.168(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:25:38.168(Timestamp) 
2020-06-09 12:25:38.203 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:25:41.568 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:25:41.569 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:41.580 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:25:41.585 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:25:41.586 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:41.600 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:25:41.607 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:25:41.608 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:25:41.613 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:25:41.618 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:25:41.619 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:41.624 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:25:41.628 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:41.628 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:41.633 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:41.637 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:25:41.638 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:25:41.638 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:41.639 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:41.646 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:41.649 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:25:41.650 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:25:41.698 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:25:41.699 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:25:41.701 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:25:41.706 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:25:41.706 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:25:41.707 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:25:41.708 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:25:41.709 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:25:41.710 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:25:41.709(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:25:41.709(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:25:41.709(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:25:41.709(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:25:41.709(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:25:41.709(Timestamp) 
2020-06-09 12:25:41.719 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:25:44.986 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:25:44.986 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:44.991 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:25:44.997 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:25:44.998 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:45.003 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:25:45.008 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:25:45.008 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:25:45.013 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:25:45.018 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:25:45.019 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:45.024 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:25:45.029 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:45.030 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:45.035 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:45.040 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:25:45.040 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:25:45.041 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:45.041 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:45.047 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:45.052 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:25:45.052 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:25:45.065 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:25:45.066 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:25:45.068 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:25:45.070 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:25:45.071 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:25:45.072 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:25:45.073 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:25:45.074 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:25:45.074 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:25:45.073(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:25:45.073(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:25:45.073(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:25:45.073(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:25:45.073(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:25:45.073(Timestamp) 
2020-06-09 12:25:45.085 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:25:56.534 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:25:56.535 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:56.543 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:25:56.548 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:25:56.549 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:25:56.562 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:25:56.567 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:25:56.568 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:25:56.573 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:25:56.578 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:25:56.579 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:56.584 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:25:56.589 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:56.590 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:56.594 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:56.601 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:25:56.601 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:25:56.602 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:25:56.602 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:25:56.608 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:25:56.613 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:25:56.613 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:25:56.624 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:25:56.624 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:25:56.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:25:56.629 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:25:56.629 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:25:56.630 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:25:56.631 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:25:56.631 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:25:56.631 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:25:56.631(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:25:56.631(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:25:56.631(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:25:56.631(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:25:56.631(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:25:56.631(Timestamp) 
2020-06-09 12:25:56.659 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:01.960 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:01.961 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:01.968 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:01.977 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:01.978 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:01.992 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:01.997 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:01.998 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:02.004 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:02.010 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:02.011 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:02.016 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:02.022 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:02.022 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:02.028 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:02.032 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:02.032 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:02.033 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:02.034 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:02.042 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:02.048 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:02.048 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:02.063 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:02.065 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:02.068 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:02.074 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:02.076 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:02.076 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:02.079 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:02.081 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:02.083 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:02.08(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:02.08(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:02.08(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:02.08(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:02.08(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:02.08(Timestamp) 
2020-06-09 12:26:02.100 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:06.089 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:06.090 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:06.095 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:06.102 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:06.103 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:06.111 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:06.116 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:06.117 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:06.124 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:06.129 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:06.129 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:06.136 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:06.141 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:06.141 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:06.146 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:06.150 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:06.150 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:06.151 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:06.151 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:06.160 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:06.165 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:06.165 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:06.178 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:06.179 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:06.181 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:06.184 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:06.185 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:06.185 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:06.187 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:06.188 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:06.189 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:06.187(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:06.187(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:06.187(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:06.187(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:06.187(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:06.187(Timestamp) 
2020-06-09 12:26:06.207 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:09.806 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:09.807 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:09.812 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:09.817 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:09.818 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:09.822 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:09.827 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:09.828 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:09.833 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:09.838 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:09.838 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:09.844 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:09.848 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:09.848 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:09.853 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:09.857 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:09.858 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:09.858 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:09.858 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:09.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:09.867 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:09.868 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:09.877 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:09.878 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:09.879 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:09.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:09.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:09.882 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:09.883 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:09.884 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:09.884 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:09.883(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:09.883(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:09.883(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:09.883(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:09.883(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:09.883(Timestamp) 
2020-06-09 12:26:09.900 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:13.255 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:13.255 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:13.260 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:13.265 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:13.266 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:13.271 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:13.276 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:13.276 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:13.281 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:13.285 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:13.286 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:13.290 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:13.294 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:13.295 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:13.299 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:13.305 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:13.306 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:13.307 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:13.308 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:13.314 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:13.319 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:13.320 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:13.330 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:13.330 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:13.331 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:13.334 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:13.334 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:13.334 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:13.335 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:13.336 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:13.337 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:13.335(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:13.335(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:13.335(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:13.335(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:13.335(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:13.335(Timestamp) 
2020-06-09 12:26:13.356 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:16.767 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:16.767 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:16.781 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:16.786 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:16.787 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:16.792 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:16.798 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:16.799 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:16.804 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:16.810 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:16.810 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:16.816 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:16.821 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:16.821 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:16.827 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:16.833 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:16.833 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:16.834 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:16.835 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:16.841 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:16.845 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:16.846 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:16.860 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:16.861 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:16.863 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:16.867 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:16.868 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:16.868 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:16.870 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:16.871 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:16.872 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:16.87(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:16.87(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:16.87(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:16.87(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:16.87(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:16.87(Timestamp) 
2020-06-09 12:26:16.908 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:20.251 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:20.340 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:20.355 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:20.361 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:20.362 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:20.369 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:20.374 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:20.376 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:20.382 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:20.388 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:20.389 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:20.395 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:20.401 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:20.402 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:20.408 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:20.413 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:20.413 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:20.415 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:20.416 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:20.422 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:20.429 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:20.430 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:20.456 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:20.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:20.459 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:20.465 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:20.466 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:20.466 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:20.468 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:20.470 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:20.475 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:20.469(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:20.469(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:20.469(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:20.469(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:20.469(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:20.469(Timestamp) 
2020-06-09 12:26:20.497 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:23.804 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:23.804 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:23.809 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:23.814 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:23.815 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:23.826 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:23.831 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:23.832 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:23.836 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:23.841 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:23.841 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:23.846 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:23.850 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:23.851 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:23.856 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:23.859 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:23.859 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:23.860 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:23.860 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:23.865 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:23.871 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:23.871 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:23.880 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:23.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:23.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:23.883 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:23.884 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:23.884 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:23.885 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:23.886 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:23.887 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:23.885(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:23.885(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:23.885(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:23.885(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:23.885(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:23.885(Timestamp) 
2020-06-09 12:26:23.942 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:27.242 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:27.243 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:27.250 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:27.256 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:27.257 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:27.268 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:27.277 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:27.278 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:27.284 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:27.291 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:27.292 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:27.298 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:27.304 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:27.305 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:27.311 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:27.316 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:27.316 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:27.317 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:27.318 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:27.324 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:27.330 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:27.331 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:27.360 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:27.361 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:27.362 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:27.365 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:27.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:27.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:27.367 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:27.368 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:27.368 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:27.367(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:27.367(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:27.367(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:27.367(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:27.367(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:27.367(Timestamp) 
2020-06-09 12:26:27.388 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:31.728 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:31.730 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:31.742 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:31.747 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:31.747 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:31.752 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:31.757 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:31.758 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:31.764 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:31.769 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:31.769 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:31.777 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:31.782 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:31.782 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:31.787 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:31.791 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:31.791 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:31.792 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:31.792 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:31.797 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:31.802 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:31.802 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:31.810 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:31.811 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:31.812 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:31.814 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:31.814 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:31.814 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:31.815 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:31.816 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:31.817 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:31.815(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:31.815(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:31.815(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:31.815(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:31.815(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:31.815(Timestamp) 
2020-06-09 12:26:31.872 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:35.260 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:35.260 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:35.274 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:35.279 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:35.280 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:35.284 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:35.289 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:35.289 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:35.297 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:35.302 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:35.302 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:35.308 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:35.314 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:35.315 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:35.320 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:35.327 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:35.327 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:35.328 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:35.329 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:35.335 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:35.341 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:35.341 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:35.362 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:35.362 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:35.364 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:35.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:35.367 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:35.367 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:35.368 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:35.370 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:35.372 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:35.369(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:35.369(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:35.369(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:35.369(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:35.369(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:35.369(Timestamp) 
2020-06-09 12:26:35.387 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:39.429 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:39.429 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:39.437 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:39.442 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:39.443 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:39.461 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:39.467 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:39.468 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:39.474 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:39.481 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:39.482 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:39.488 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:39.493 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:39.493 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:39.498 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:39.503 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:39.504 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:39.505 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:39.505 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:39.511 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:39.515 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:39.516 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:39.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:39.550 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:39.557 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:39.571 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:39.575 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:39.575 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:39.581 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:39.582 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:39.583 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:39.581(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:39.581(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:39.581(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:39.581(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:39.581(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:39.581(Timestamp) 
2020-06-09 12:26:39.604 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:43.338 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:43.338 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:43.344 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:43.349 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:43.350 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:43.356 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:43.360 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:43.360 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:43.372 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:43.377 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:43.377 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:43.381 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:43.386 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:43.386 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:43.390 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:43.394 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:43.394 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:43.395 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:43.395 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:43.401 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:43.405 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:43.406 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:43.416 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:43.416 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:43.418 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:43.420 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:43.421 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:43.421 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:43.422 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:43.423 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:43.423 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:43.422(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:43.422(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:43.422(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:43.422(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:43.422(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:43.422(Timestamp) 
2020-06-09 12:26:43.461 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:47.106 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:47.106 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:47.112 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:47.116 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:47.116 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:47.129 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:47.135 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:47.136 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:47.141 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:47.147 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:47.147 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:47.152 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:47.157 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:47.158 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:47.164 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:47.170 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:47.170 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:47.171 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:47.172 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:47.178 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:47.182 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:47.182 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:47.199 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:47.200 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:47.202 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:47.206 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:47.207 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:47.207 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:47.209 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:47.210 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:47.211 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:47.209(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:47.209(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:47.209(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:47.209(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:47.209(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:47.209(Timestamp) 
2020-06-09 12:26:47.244 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:50.876 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:50.877 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:50.882 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:50.888 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:50.889 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:50.893 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:50.899 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:50.899 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:50.905 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:50.909 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:50.910 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:50.914 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:50.919 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:50.920 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:50.924 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:50.929 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:50.929 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:50.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:50.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:50.935 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:50.940 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:50.940 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:50.948 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:50.949 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:50.950 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:50.952 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:50.952 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:50.952 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:50.953 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:50.954 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:50.955 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:50.954(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:50.954(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:50.954(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:50.954(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:50.954(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:50.954(Timestamp) 
2020-06-09 12:26:50.978 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:54.649 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:54.649 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:54.654 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:54.658 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:54.659 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:54.663 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:54.668 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:54.668 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:54.674 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:54.679 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:54.679 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:54.683 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:54.687 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:54.688 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:54.692 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:54.697 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:54.697 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:54.697 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:54.697 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:54.703 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:54.707 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:54.707 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:54.715 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:54.715 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:54.716 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:54.718 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:54.718 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:54.719 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:54.719 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:54.720 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:54.721 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:54.719(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:54.719(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:54.719(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:54.719(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:54.719(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:54.719(Timestamp) 
2020-06-09 12:26:54.736 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:26:58.369 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:26:58.369 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:58.376 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:26:58.381 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:26:58.382 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:26:58.387 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:26:58.391 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:26:58.392 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:26:58.397 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:26:58.401 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:26:58.402 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:58.410 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:26:58.415 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:58.415 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:58.426 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:58.431 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:26:58.431 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:26:58.432 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:26:58.433 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:26:58.440 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:26:58.446 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:26:58.446 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:26:58.463 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:26:58.463 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:26:58.465 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:26:58.467 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:26:58.468 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:26:58.468 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:26:58.469 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:26:58.470 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:26:58.470 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:26:58.469(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:26:58.469(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:26:58.469(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:26:58.469(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:26:58.469(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:26:58.469(Timestamp) 
2020-06-09 12:26:58.493 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:02.190 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:02.191 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:02.196 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:02.200 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:02.201 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:02.206 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:02.213 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:02.213 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:02.222 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:02.226 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:02.226 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:02.231 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:02.236 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:02.236 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:02.242 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:02.247 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:02.247 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:02.248 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:02.248 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:02.254 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:02.258 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:02.259 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:02.269 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:02.269 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:02.270 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:02.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:02.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:02.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:02.274 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:02.275 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:02.276 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:02.274(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:02.274(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:02.274(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:02.274(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:02.274(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:02.274(Timestamp) 
2020-06-09 12:27:02.316 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:05.579 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:05.580 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:05.585 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:05.589 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:05.590 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:05.595 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:05.599 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:05.600 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:05.610 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:05.617 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:05.617 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:05.625 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:05.630 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:05.631 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:05.636 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:05.640 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:05.640 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:05.641 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:05.641 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:05.646 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:05.650 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:05.651 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:05.662 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:05.662 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:05.663 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:05.665 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:05.666 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:05.666 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:05.667 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:05.667 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:05.668 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:05.667(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:05.667(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:05.667(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:05.667(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:05.667(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:05.667(Timestamp) 
2020-06-09 12:27:05.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:08.987 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:08.988 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:08.993 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:08.998 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:08.998 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:09.007 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:09.013 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:09.014 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:09.018 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:09.023 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:09.024 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:09.028 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:09.033 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:09.033 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:09.040 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:09.044 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:09.044 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:09.044 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:09.045 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:09.050 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:09.055 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:09.055 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:09.066 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:09.066 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:09.067 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:09.069 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:09.070 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:09.070 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:09.071 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:09.071 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:09.072 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:09.071(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:09.071(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:09.071(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:09.071(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:09.071(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:09.071(Timestamp) 
2020-06-09 12:27:09.095 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:13.382 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:13.382 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:13.387 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:13.391 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:13.392 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:13.396 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:13.401 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:13.401 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:13.407 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:13.412 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:13.412 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:13.418 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:13.422 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:13.422 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:13.427 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:13.431 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:13.431 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:13.431 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:13.432 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:13.437 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:13.441 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:13.441 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:13.460 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:13.460 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:13.461 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:13.462 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:13.463 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:13.463 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:13.464 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:13.464 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:13.465 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:13.464(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:13.464(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:13.464(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:13.464(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:13.464(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:13.464(Timestamp) 
2020-06-09 12:27:13.478 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:16.803 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:16.804 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:16.810 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:16.814 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:16.814 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:16.819 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:16.823 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:16.823 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:16.828 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:16.833 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:16.833 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:16.838 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:16.842 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:16.842 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:16.847 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:16.851 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:16.851 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:16.851 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:16.852 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:16.858 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:16.862 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:16.862 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:16.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:16.871 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:16.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:16.873 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:16.874 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:16.874 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:16.875 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:16.875 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:16.875 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:16.875(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:16.875(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:16.875(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:16.875(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:16.875(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:16.875(Timestamp) 
2020-06-09 12:27:16.893 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:20.093 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:20.093 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:20.099 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:20.104 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:20.104 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:20.109 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:20.114 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:20.114 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:20.120 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:20.124 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:20.124 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:20.131 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:20.135 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:20.137 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:20.142 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:20.146 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:20.146 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:20.147 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:20.148 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:20.153 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:20.157 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:20.158 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:20.172 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:20.173 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:20.175 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:20.178 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:20.178 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:20.179 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:20.180 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:20.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:20.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:20.18(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:20.18(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:20.18(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:20.18(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:20.18(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:20.18(Timestamp) 
2020-06-09 12:27:20.211 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:23.503 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:23.503 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:23.508 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:23.513 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:23.514 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:23.518 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:23.523 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:23.523 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:23.530 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:23.534 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:23.534 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:23.539 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:23.543 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:23.544 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:23.548 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:23.552 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:23.552 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:23.553 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:23.553 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:23.559 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:23.563 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:23.563 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:23.571 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:23.571 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:23.572 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:23.574 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:23.574 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:23.574 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:23.575 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:23.576 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:23.576 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:23.575(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:23.575(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:23.575(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:23.575(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:23.575(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:23.575(Timestamp) 
2020-06-09 12:27:23.594 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:28.024 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:28.025 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:28.029 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:28.034 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:28.034 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:28.038 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:28.043 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:28.044 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:28.048 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:28.052 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:28.052 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:28.057 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:28.063 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:28.063 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:28.067 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:28.071 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:28.071 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:28.072 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:28.072 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:28.077 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:28.081 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:28.081 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:28.089 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:28.089 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:28.090 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:28.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:28.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:28.093 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:28.093 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:28.094 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:28.095 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:28.094(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:28.094(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:28.094(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:28.094(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:28.094(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:28.094(Timestamp) 
2020-06-09 12:27:28.117 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:31.358 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:31.359 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:31.364 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:31.368 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:31.368 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:31.373 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:31.378 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:31.378 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:31.383 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:31.387 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:31.387 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:31.391 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:31.397 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:31.398 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:31.404 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:31.408 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:31.409 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:31.409 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:31.410 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:31.417 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:31.421 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:31.421 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:31.431 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:31.432 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:31.433 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:31.435 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:31.435 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:31.435 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:31.436 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:31.437 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:31.438 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:31.437(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:31.437(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:31.437(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:31.437(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:31.437(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:31.437(Timestamp) 
2020-06-09 12:27:31.454 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:34.734 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:34.735 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:34.740 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:34.744 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:34.744 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:34.749 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:34.754 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:34.754 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:34.758 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:34.763 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:34.764 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:34.768 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:34.772 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:34.773 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:34.778 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:34.783 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:34.783 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:34.783 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:34.783 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:34.792 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:34.797 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:34.798 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:34.823 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:34.825 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:34.827 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:34.832 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:34.834 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:34.834 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:34.837 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:34.838 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:34.840 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:34.837(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:34.837(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:34.837(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:34.837(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:34.837(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:34.837(Timestamp) 
2020-06-09 12:27:34.863 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:38.225 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:38.226 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:38.231 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:38.236 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:38.237 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:38.242 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:38.247 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:38.248 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:38.255 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:38.260 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:38.260 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:38.266 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:38.271 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:38.271 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:38.276 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:38.280 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:38.280 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:38.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:38.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:38.288 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:38.295 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:38.295 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:38.306 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:38.307 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:38.308 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:38.310 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:38.310 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:38.310 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:38.311 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:38.312 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:38.312 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:38.312(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:38.312(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:38.312(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:38.312(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:38.312(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:38.312(Timestamp) 
2020-06-09 12:27:38.334 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:41.594 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:41.594 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:41.601 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:41.605 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:41.606 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:41.611 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:41.615 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:41.615 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:41.619 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:41.624 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:41.624 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:41.629 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:41.634 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:41.635 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:41.640 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:41.645 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:41.645 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:41.646 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:41.647 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:41.652 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:41.657 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:41.657 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:41.675 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:41.675 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:41.677 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:41.681 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:41.682 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:41.682 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:41.684 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:41.685 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:41.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:41.684(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:41.684(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:41.684(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:41.684(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:41.684(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:41.684(Timestamp) 
2020-06-09 12:27:41.703 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:45.018 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:45.019 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:45.024 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:45.036 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:45.037 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:45.055 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:45.081 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:45.083 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:45.094 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:45.105 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:45.106 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:45.131 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:45.146 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:45.147 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:45.167 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:45.189 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:45.190 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:45.191 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:45.192 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:45.207 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:45.223 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:45.224 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:45.244 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:45.245 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:45.247 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:45.250 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:45.251 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:45.251 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:45.253 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:45.254 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:45.255 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:45.254(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:45.254(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:45.254(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:45.254(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:45.254(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:45.254(Timestamp) 
2020-06-09 12:27:45.275 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:49.437 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:49.437 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:49.443 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:49.450 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:49.450 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:49.455 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:49.460 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:49.461 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:49.467 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:49.472 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:49.473 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:49.479 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:49.484 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:49.485 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:49.494 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:49.499 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:49.500 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:49.501 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:49.502 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:49.508 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:49.515 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:49.516 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:49.541 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:49.543 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:49.545 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:49.551 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:49.551 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:49.552 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:49.553 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:49.554 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:49.555 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:49.554(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:49.554(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:49.554(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:49.554(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:49.554(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:49.554(Timestamp) 
2020-06-09 12:27:49.569 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:52.791 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:52.791 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:52.796 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:52.802 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:52.802 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:52.807 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:52.811 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:52.812 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:52.816 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:52.820 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:52.820 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:52.824 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:52.829 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:52.829 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:52.833 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:52.837 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:52.837 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:52.837 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:52.838 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:52.843 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:52.846 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:52.847 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:52.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:52.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:52.856 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:52.858 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:52.858 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:52.858 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:52.859 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:52.860 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:52.860 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:52.859(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:52.859(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:52.859(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:52.859(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:52.859(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:52.859(Timestamp) 
2020-06-09 12:27:52.882 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:56.109 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:56.110 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:56.115 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:56.122 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:56.122 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:56.127 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:56.132 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:56.132 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:56.137 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:56.141 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:56.142 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:56.146 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:56.150 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:56.150 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:56.155 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:56.162 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:56.163 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:56.163 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:56.163 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:56.169 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:56.174 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:56.174 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:56.186 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:56.204 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:56.206 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:56.210 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:56.211 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:56.211 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:56.212 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:56.213 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:56.213 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:56.212(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:56.212(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:56.212(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:56.212(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:56.212(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:56.212(Timestamp) 
2020-06-09 12:27:56.226 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:27:59.472 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:27:59.472 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:59.478 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:27:59.482 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:27:59.484 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:27:59.489 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:27:59.495 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:27:59.495 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:27:59.499 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:27:59.505 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:27:59.505 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:59.510 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:27:59.515 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:59.516 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:59.521 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:59.525 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:27:59.525 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:27:59.526 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:27:59.527 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:27:59.533 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:27:59.538 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:27:59.538 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:27:59.554 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:27:59.554 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:27:59.556 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:27:59.559 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:27:59.560 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:27:59.561 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:27:59.562 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:27:59.563 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:27:59.564 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:27:59.562(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:27:59.562(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:27:59.562(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:27:59.562(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:27:59.562(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:27:59.562(Timestamp) 
2020-06-09 12:27:59.576 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:02.850 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:02.851 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:02.857 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:02.862 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:02.862 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:02.868 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:02.872 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:02.873 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:02.879 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:02.885 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:02.886 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:02.891 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:02.897 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:02.898 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:02.904 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:02.908 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:02.909 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:02.909 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:02.910 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:02.916 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:02.921 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:02.921 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:02.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:02.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:02.936 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:02.938 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:02.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:02.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:02.941 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:02.941 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:02.942 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:02.941(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:02.941(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:02.941(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:02.941(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:02.941(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:02.941(Timestamp) 
2020-06-09 12:28:02.976 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:06.383 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:06.383 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:06.390 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:06.404 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:06.404 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:06.410 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:06.421 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:06.422 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:06.430 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:06.435 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:06.436 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:06.443 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:06.481 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:06.482 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:06.493 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:06.522 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:06.523 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:06.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:06.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:06.572 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:06.604 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:06.604 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:06.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:06.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:06.614 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:06.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:06.617 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:06.617 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:06.618 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:06.618 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:06.619 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:06.618(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:06.618(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:06.618(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:06.618(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:06.618(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:06.618(Timestamp) 
2020-06-09 12:28:06.677 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:10.055 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:10.056 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:10.060 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:10.065 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:10.066 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:10.072 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:10.077 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:10.077 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:10.087 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:10.093 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:10.093 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:10.099 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:10.104 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:10.105 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:10.110 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:10.116 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:10.116 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:10.117 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:10.118 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:10.124 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:10.128 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:10.128 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:10.144 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:10.145 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:10.147 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:10.150 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:10.150 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:10.151 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:10.152 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:10.153 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:10.154 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:10.153(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:10.153(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:10.153(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:10.153(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:10.153(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:10.153(Timestamp) 
2020-06-09 12:28:10.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:13.537 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:13.537 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:13.542 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:13.546 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:13.547 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:13.551 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:13.556 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:13.556 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:13.562 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:13.566 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:13.567 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:13.572 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:13.576 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:13.577 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:13.582 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:13.586 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:13.586 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:13.587 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:13.587 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:13.593 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:13.597 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:13.597 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:13.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:13.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:13.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:13.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:13.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:13.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:13.616 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:13.617 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:13.617 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:13.616(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:13.616(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:13.616(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:13.616(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:13.616(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:13.616(Timestamp) 
2020-06-09 12:28:13.632 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:16.942 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:16.942 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:16.948 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:16.957 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:16.957 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:16.966 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:16.970 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:16.970 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:16.975 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:16.979 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:16.979 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:16.983 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:16.988 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:16.988 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:16.993 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:16.997 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:16.997 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:16.997 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:16.997 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:17.003 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:17.007 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:17.007 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:17.015 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:17.016 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:17.017 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:17.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:17.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:17.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:17.021 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:17.021 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:17.021 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:17.021(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:17.021(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:17.021(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:17.021(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:17.021(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:17.021(Timestamp) 
2020-06-09 12:28:17.040 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:20.316 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:20.317 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:20.322 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:20.326 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:20.326 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:20.332 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:20.337 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:20.338 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:20.348 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:20.354 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:20.355 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:20.365 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:20.371 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:20.372 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:20.382 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:20.388 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:20.390 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:20.391 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:20.391 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:20.401 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:20.406 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:20.407 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:20.432 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:20.433 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:20.436 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:20.441 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:20.442 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:20.443 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:20.446 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:20.448 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:20.449 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:20.446(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:20.446(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:20.446(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:20.446(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:20.446(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:20.446(Timestamp) 
2020-06-09 12:28:20.464 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:23.703 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:23.703 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:23.710 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:23.715 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:23.716 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:23.721 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:23.726 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:23.727 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:23.732 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:23.736 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:23.737 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:23.741 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:23.746 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:23.747 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:23.752 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:23.757 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:23.758 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:23.758 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:23.759 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:23.764 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:23.769 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:23.769 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:23.784 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:23.785 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:23.787 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:23.790 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:23.791 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:23.791 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:23.792 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:23.793 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:23.794 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:23.793(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:23.793(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:23.793(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:23.793(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:23.793(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:23.793(Timestamp) 
2020-06-09 12:28:23.831 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:27.171 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:27.171 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:27.177 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:27.182 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:27.182 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:27.187 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:27.192 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:27.193 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:27.197 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:27.202 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:27.202 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:27.207 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:27.212 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:27.212 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:27.216 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:27.220 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:27.221 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:27.221 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:27.221 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:27.227 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:27.231 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:27.231 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:27.240 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:27.241 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:27.242 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:27.244 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:27.244 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:27.245 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:27.246 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:27.246 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:27.247 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:27.246(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:27.246(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:27.246(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:27.246(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:27.246(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:27.246(Timestamp) 
2020-06-09 12:28:27.263 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:30.523 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:30.523 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:30.528 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:30.534 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:30.534 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:30.539 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:30.544 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:30.544 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:30.549 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:30.553 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:30.553 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:30.558 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:30.563 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:30.563 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:30.567 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:30.571 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:30.572 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:30.572 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:30.572 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:30.578 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:30.582 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:30.582 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:30.590 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:30.591 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:30.591 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:30.593 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:30.594 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:30.594 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:30.595 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:30.596 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:30.596 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:30.595(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:30.595(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:30.595(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:30.595(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:30.595(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:30.595(Timestamp) 
2020-06-09 12:28:30.630 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:34.009 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:34.010 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:34.016 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:34.020 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:34.021 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:34.027 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:34.032 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:34.033 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:34.038 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:34.045 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:34.046 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:34.050 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:34.055 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:34.056 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:34.065 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:34.076 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:34.076 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:34.077 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:34.078 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:34.084 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:34.089 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:34.089 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:34.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:34.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:34.104 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:34.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:34.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:34.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:34.106 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:34.107 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:34.107 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:34.106(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:34.106(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:34.106(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:34.106(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:34.106(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:34.106(Timestamp) 
2020-06-09 12:28:34.121 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:37.410 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:37.411 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:37.416 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:37.420 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:37.421 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:37.426 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:37.430 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:37.430 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:37.435 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:37.441 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:37.441 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:37.449 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:37.455 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:37.455 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:37.460 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:37.464 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:37.464 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:37.464 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:37.465 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:37.470 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:37.474 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:37.474 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:37.484 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:37.485 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:37.486 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:37.488 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:37.488 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:37.489 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:37.490 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:37.490 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:37.491 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:37.49(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:37.49(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:37.49(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:37.49(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:37.49(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:37.49(Timestamp) 
2020-06-09 12:28:37.519 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:40.809 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:40.809 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:40.815 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:40.819 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:40.819 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:40.824 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:40.828 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:40.829 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:40.833 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:40.837 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:40.838 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:40.843 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:40.847 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:40.848 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:40.853 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:40.858 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:40.858 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:40.859 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:40.860 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:40.866 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:40.871 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:40.872 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:40.905 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:40.905 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:40.907 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:40.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:40.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:40.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:40.912 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:40.912 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:40.913 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:40.912(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:40.912(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:40.912(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:40.912(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:40.912(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:40.912(Timestamp) 
2020-06-09 12:28:40.926 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:44.195 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:44.196 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:44.201 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:44.206 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:44.207 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:44.211 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:44.215 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:44.216 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:44.221 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:44.226 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:44.226 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:44.231 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:44.237 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:44.238 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:44.243 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:44.252 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:44.253 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:44.253 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:44.254 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:44.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:44.265 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:44.265 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:44.279 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:44.280 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:44.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:44.284 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:44.284 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:44.285 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:44.286 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:44.287 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:44.287 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:44.286(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:44.286(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:44.286(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:44.286(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:44.286(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:44.286(Timestamp) 
2020-06-09 12:28:44.301 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:47.604 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:47.605 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:47.611 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:47.616 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:47.616 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:47.621 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:47.626 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:47.626 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:47.632 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:47.635 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:47.635 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:47.640 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:47.645 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:47.645 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:47.650 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:47.655 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:47.656 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:47.656 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:47.656 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:47.662 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:47.665 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:47.666 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:47.678 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:47.679 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:47.680 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:47.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:47.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:47.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:47.685 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:47.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:47.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:47.685(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:47.685(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:47.685(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:47.685(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:47.685(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:47.685(Timestamp) 
2020-06-09 12:28:47.700 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:51.016 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:51.017 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:51.022 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:51.026 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:51.026 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:51.031 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:51.036 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:51.037 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:51.041 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:51.045 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:51.046 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:51.050 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:51.055 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:51.055 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:51.061 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:51.067 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:51.067 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:51.068 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:51.069 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:51.075 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:51.081 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:51.082 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:51.107 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:51.108 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:51.111 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:51.114 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:51.114 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:51.114 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:51.116 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:51.116 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:51.117 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:51.116(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:51.116(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:51.116(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:51.116(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:51.116(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:51.116(Timestamp) 
2020-06-09 12:28:51.151 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:54.476 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:54.476 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:54.482 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:54.486 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:54.487 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:54.491 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:54.495 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:54.496 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:54.500 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:54.504 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:54.504 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:54.509 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:54.514 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:54.514 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:54.518 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:54.522 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:54.523 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:54.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:54.524 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:54.529 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:54.534 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:54.534 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:54.542 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:54.542 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:54.543 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:54.544 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:54.545 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:54.545 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:54.546 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:54.546 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:54.546 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:54.546(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:54.546(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:54.546(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:54.546(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:54.546(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:54.546(Timestamp) 
2020-06-09 12:28:54.565 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:28:57.788 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:28:57.788 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:57.794 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:28:57.798 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:28:57.799 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:28:57.803 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:28:57.808 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:28:57.808 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:28:57.813 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:28:57.817 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:28:57.817 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:57.821 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:28:57.825 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:57.826 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:57.830 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:57.836 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:28:57.836 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:28:57.836 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:28:57.836 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:28:57.842 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:28:57.846 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:28:57.846 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:28:57.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:28:57.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:28:57.856 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:28:57.857 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:28:57.858 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:28:57.858 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:28:57.859 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:28:57.859 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:28:57.859 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:28:57.859(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:28:57.859(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:28:57.859(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:28:57.859(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:28:57.859(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:28:57.859(Timestamp) 
2020-06-09 12:28:57.875 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:01.103 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:01.104 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:01.109 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:01.113 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:01.114 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:01.118 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:01.122 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:01.123 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:01.127 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:01.132 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:01.132 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:01.136 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:01.141 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:01.141 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:01.145 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:01.149 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:01.149 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:01.149 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:01.149 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:01.155 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:01.160 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:01.160 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:01.169 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:01.169 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:01.170 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:01.171 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:01.172 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:01.172 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:01.173 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:01.173 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:01.173 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:01.173(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:01.173(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:01.173(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:01.173(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:01.173(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:01.173(Timestamp) 
2020-06-09 12:29:01.189 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:04.454 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:04.455 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:04.460 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:04.464 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:04.464 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:04.469 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:04.474 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:04.474 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:04.480 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:04.485 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:04.485 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:04.490 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:04.494 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:04.494 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:04.498 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:04.502 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:04.502 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:04.503 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:04.504 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:04.509 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:04.513 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:04.514 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:04.522 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:04.522 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:04.523 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:04.524 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:04.525 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:04.525 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:04.526 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:04.526 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:04.526 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:04.526(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:04.526(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:04.526(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:04.526(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:04.526(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:04.526(Timestamp) 
2020-06-09 12:29:04.544 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:07.883 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:07.883 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:07.888 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:07.893 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:07.893 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:07.898 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:07.903 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:07.903 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:07.907 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:07.912 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:07.912 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:07.917 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:07.921 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:07.921 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:07.926 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:07.930 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:07.930 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:07.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:07.931 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:07.937 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:07.941 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:07.941 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:07.950 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:07.951 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:07.952 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:07.953 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:07.954 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:07.954 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:07.955 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:07.956 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:07.956 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:07.955(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:07.955(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:07.955(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:07.955(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:07.955(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:07.955(Timestamp) 
2020-06-09 12:29:07.985 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:12.303 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:12.304 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:12.309 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:12.314 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:12.315 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:12.320 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:12.325 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:12.325 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:12.330 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:12.334 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:12.335 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:12.339 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:12.344 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:12.345 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:12.350 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:12.354 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:12.354 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:12.355 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:12.355 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:12.362 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:12.367 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:12.367 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:12.380 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:12.381 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:12.382 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:12.383 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:12.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:12.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:12.385 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:12.385 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:12.385 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:12.385(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:12.385(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:12.385(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:12.385(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:12.385(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:12.385(Timestamp) 
2020-06-09 12:29:12.400 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:15.655 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:15.656 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:15.661 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:15.665 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:15.666 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:15.670 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:15.675 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:15.676 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:15.682 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:15.687 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:15.687 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:15.692 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:15.696 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:15.697 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:15.701 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:15.705 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:15.705 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:15.706 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:15.706 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:15.712 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:15.715 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:15.715 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:15.728 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:15.729 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:15.730 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:15.733 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:15.733 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:15.733 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:15.735 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:15.735 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:15.736 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:15.735(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:15.735(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:15.735(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:15.735(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:15.735(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:15.735(Timestamp) 
2020-06-09 12:29:15.752 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:20.102 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:20.102 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:20.107 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:20.112 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:20.112 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:20.116 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:20.122 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:20.122 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:20.127 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:20.131 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:20.133 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:20.137 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:20.142 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:20.142 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:20.147 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:20.151 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:20.151 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:20.152 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:20.152 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:20.158 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:20.163 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:20.163 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:20.177 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:20.177 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:20.179 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:20.181 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:20.182 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:20.182 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:20.182 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:20.183 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:20.183 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:20.183(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:20.183(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:20.183(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:20.183(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:20.183(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:20.183(Timestamp) 
2020-06-09 12:29:20.194 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:23.438 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:23.438 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:23.443 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:23.448 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:23.449 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:23.453 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:23.457 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:23.458 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:23.462 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:23.467 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:23.467 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:23.472 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:23.478 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:23.478 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:23.482 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:23.486 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:23.487 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:23.487 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:23.487 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:23.494 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:23.499 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:23.499 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:23.514 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:23.515 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:23.515 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:23.517 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:23.518 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:23.518 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:23.519 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:23.519 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:23.519 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:23.519(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:23.519(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:23.519(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:23.519(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:23.519(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:23.519(Timestamp) 
2020-06-09 12:29:23.543 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:26.775 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:26.776 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:26.780 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:26.785 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:26.785 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:26.790 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:26.794 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:26.794 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:26.799 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:26.803 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:26.804 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:26.808 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:26.813 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:26.813 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:26.817 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:26.822 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:26.822 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:26.822 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:26.822 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:26.827 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:26.832 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:26.832 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:26.840 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:26.840 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:26.841 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:26.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:26.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:26.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:26.844 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:26.845 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:26.845 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:26.844(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:26.844(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:26.844(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:26.844(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:26.844(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:26.844(Timestamp) 
2020-06-09 12:29:26.860 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:31.189 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:31.189 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:31.194 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:31.199 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:31.199 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:31.204 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:31.207 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:31.207 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:31.212 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:31.217 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:31.217 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:31.222 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:31.227 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:31.227 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:31.232 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:31.236 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:31.237 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:31.237 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:31.237 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:31.242 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:31.246 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:31.246 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:31.255 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:31.255 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:31.256 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:31.258 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:31.259 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:31.259 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:31.260 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:31.260 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:31.261 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:31.26(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:31.26(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:31.26(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:31.26(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:31.26(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:31.26(Timestamp) 
2020-06-09 12:29:31.275 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:34.423 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:34.423 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:34.428 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:34.432 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:34.432 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:34.437 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:34.442 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:34.442 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:34.447 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:34.451 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:34.451 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:34.456 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:34.460 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:34.460 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:34.464 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:34.469 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:34.470 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:34.471 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:34.472 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:34.478 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:34.483 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:34.484 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:34.512 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:34.512 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:34.515 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:34.520 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:34.521 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:34.521 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:34.522 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:34.523 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:34.524 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:34.523(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:34.523(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:34.523(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:34.523(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:34.523(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:34.523(Timestamp) 
2020-06-09 12:29:34.541 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:37.828 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:37.829 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:37.834 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:37.839 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:37.839 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:37.845 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:37.850 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:37.850 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:37.855 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:37.860 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:37.860 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:37.866 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:37.871 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:37.872 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:37.877 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:37.882 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:37.882 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:37.882 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:37.882 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:37.888 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:37.892 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:37.892 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:37.900 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:37.900 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:37.901 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:37.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:37.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:37.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:37.904 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:37.905 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:37.905 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:37.904(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:37.904(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:37.904(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:37.904(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:37.904(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:37.904(Timestamp) 
2020-06-09 12:29:37.931 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:41.207 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:41.207 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:41.213 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:41.218 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:41.218 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:41.224 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:41.228 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:41.229 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:41.234 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:41.239 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:41.239 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:41.243 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:41.249 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:41.249 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:41.253 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:41.258 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:41.258 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:41.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:41.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:41.265 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:41.269 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:41.269 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:41.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:41.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:41.282 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:41.284 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:41.284 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:41.284 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:41.285 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:41.286 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:41.286 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:41.285(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:41.285(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:41.285(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:41.285(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:41.285(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:41.285(Timestamp) 
2020-06-09 12:29:41.341 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:45.687 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:45.688 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:45.693 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:45.699 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:45.699 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:45.704 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:45.708 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:45.708 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:45.715 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:45.721 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:45.721 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:45.727 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:45.733 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:45.734 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:45.740 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:45.744 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:45.745 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:45.746 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:45.746 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:45.752 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:45.758 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:45.759 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:45.783 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:45.785 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:45.787 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:45.792 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:45.793 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:45.794 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:45.796 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:45.798 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:45.799 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:45.797(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:45.797(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:45.797(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:45.797(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:45.797(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:45.797(Timestamp) 
2020-06-09 12:29:45.832 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:49.064 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:49.064 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:49.070 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:49.074 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:49.075 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:49.079 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:49.083 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:49.083 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:49.088 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:49.092 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:49.092 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:49.097 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:49.101 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:49.101 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:49.106 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:49.110 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:49.110 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:49.110 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:49.110 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:49.117 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:49.123 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:49.123 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:49.134 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:49.134 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:49.135 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:49.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:49.138 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:49.138 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:49.139 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:49.140 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:49.140 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:49.139(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:49.139(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:49.139(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:49.139(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:49.139(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:49.139(Timestamp) 
2020-06-09 12:29:49.164 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:54.541 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:54.542 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:54.546 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:54.551 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:54.551 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:54.556 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:54.561 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:54.562 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:54.567 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:54.572 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:54.573 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:54.578 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:54.583 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:54.584 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:54.589 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:54.594 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:54.594 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:54.595 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:54.596 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:54.602 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:54.609 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:54.609 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:54.623 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:54.624 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:54.624 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:54.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:54.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:54.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:54.627 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:54.627 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:54.628 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:54.627(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:54.627(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:54.627(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:54.627(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:54.627(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:54.627(Timestamp) 
2020-06-09 12:29:54.640 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:29:57.942 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:29:57.943 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:57.948 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:29:57.952 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:29:57.952 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:29:57.957 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:29:57.961 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:29:57.962 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:29:57.967 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:29:57.971 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:29:57.972 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:57.977 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:29:57.981 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:57.981 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:57.986 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:57.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:29:57.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:29:57.990 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:29:57.990 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:29:57.996 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:29:57.999 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:29:58.000 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:29:58.007 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:29:58.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:29:58.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:29:58.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:29:58.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:29:58.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:29:58.011 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:29:58.011 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:29:58.012 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:29:58.011(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:29:58.011(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:29:58.011(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:29:58.011(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:29:58.011(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:29:58.011(Timestamp) 
2020-06-09 12:29:58.045 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:30:03.426 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:30:03.426 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:03.433 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:30:03.438 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:30:03.439 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:03.444 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:30:03.448 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:30:03.448 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:30:03.454 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:30:03.458 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:30:03.459 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:03.465 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:30:03.476 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:03.477 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:03.485 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:03.490 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:30:03.490 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:30:03.491 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:03.491 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:03.497 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:03.501 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:30:03.501 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:30:03.509 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:30:03.509 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:30:03.510 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:30:03.511 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:30:03.512 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:30:03.512 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:30:03.513 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:30:03.513 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:30:03.513 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:30:03.513(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:30:03.513(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:30:03.513(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:30:03.513(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:30:03.513(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:30:03.513(Timestamp) 
2020-06-09 12:30:03.543 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:30:08.752 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:30:08.753 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:08.758 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:30:08.762 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:30:08.763 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:08.767 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:30:08.773 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:30:08.773 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:30:08.778 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:30:08.782 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:30:08.783 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:08.789 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:30:08.794 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:08.794 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:08.799 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:08.805 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:30:08.806 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:30:08.807 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:08.807 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:08.814 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:08.819 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:30:08.819 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:30:08.832 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:30:08.833 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:30:08.845 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:30:08.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:30:08.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:30:08.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:30:08.848 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:30:08.849 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:30:08.849 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:30:08.848(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:30:08.848(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:30:08.848(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:30:08.848(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:30:08.848(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:30:08.848(Timestamp) 
2020-06-09 12:30:08.869 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:30:14.303 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:30:14.303 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:14.310 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:30:14.315 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:30:14.316 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:30:14.320 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:30:14.324 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:30:14.325 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:30:14.329 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:30:14.334 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:30:14.334 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:14.339 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:30:14.345 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:14.345 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:14.350 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:14.354 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:30:14.354 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:30:14.355 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:30:14.355 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:30:14.361 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:30:14.365 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:30:14.365 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:30:14.377 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:30:14.378 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:30:14.379 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:30:14.382 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:30:14.382 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:30:14.382 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:30:14.383 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:30:14.384 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:30:14.385 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:30:14.384(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:30:14.384(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:30:14.384(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:30:14.384(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:30:14.384(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:30:14.384(Timestamp) 
2020-06-09 12:30:14.422 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:32:25.750 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:32:25.750 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:25.755 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:32:25.759 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:32:25.760 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:25.764 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:32:25.769 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:32:25.769 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:32:25.774 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:32:25.779 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:32:25.779 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:25.783 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:32:25.787 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:25.787 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:25.793 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:25.798 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:32:25.798 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:32:25.798 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:25.798 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:25.804 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:25.808 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:32:25.808 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:32:25.816 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:32:25.816 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:32:25.817 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:32:25.819 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:32:25.819 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:32:25.819 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:32:25.820 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:32:25.821 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:32:25.821 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:32:25.82(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:32:25.82(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:32:25.82(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:32:25.82(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:32:25.82(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:32:25.82(Timestamp) 
2020-06-09 12:32:25.846 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:32:31.908 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:32:31.908 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:31.914 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:32:31.918 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:32:31.918 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:31.923 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:32:31.927 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:32:31.927 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:32:31.932 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:32:31.937 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:32:31.937 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:31.943 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:32:31.947 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:31.947 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:31.952 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:31.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:32:31.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:32:31.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:31.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:31.962 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:31.966 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:32:31.966 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:32:31.974 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:32:31.974 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:32:31.975 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:32:31.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:32:31.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:32:31.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:32:31.978 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:32:31.979 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:32:31.979 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:32:31.978(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:32:31.978(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:32:31.978(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:32:31.978(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:32:31.978(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:32:31.978(Timestamp) 
2020-06-09 12:32:31.995 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:32:49.266 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:32:49.266 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:49.273 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:32:49.278 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:32:49.279 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:49.284 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:32:49.289 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:32:49.290 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:32:49.295 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:32:49.299 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:32:49.300 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:49.306 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:32:49.310 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:49.311 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:49.316 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:49.320 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:32:49.320 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:32:49.321 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:49.321 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:49.325 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:49.329 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:32:49.329 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:32:49.338 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:32:49.338 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:32:49.339 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:32:49.341 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:32:49.341 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:32:49.341 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:32:49.342 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:32:49.342 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:32:49.343 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:32:49.342(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:32:49.342(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:32:49.342(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:32:49.342(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:32:49.342(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:32:49.342(Timestamp) 
2020-06-09 12:32:49.357 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:32:54.059 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:32:54.059 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:54.064 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:32:54.070 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:32:54.070 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:54.075 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:32:54.079 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:32:54.079 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:32:54.088 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:32:54.092 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:32:54.092 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:54.096 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:32:54.101 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:54.101 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:54.105 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:54.110 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:32:54.111 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:32:54.111 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:54.111 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:54.116 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:54.120 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:32:54.120 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:32:54.129 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:32:54.129 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:32:54.130 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:32:54.131 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:32:54.132 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:32:54.132 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:32:54.133 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:32:54.133 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:32:54.133 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:32:54.133(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:32:54.133(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:32:54.133(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:32:54.133(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:32:54.133(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:32:54.133(Timestamp) 
2020-06-09 12:32:54.156 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:32:58.548 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:32:58.548 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:58.553 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:32:58.557 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:32:58.557 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:32:58.562 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:32:58.566 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:32:58.566 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:32:58.570 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:32:58.575 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:32:58.575 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:58.579 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:32:58.583 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:58.583 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:58.588 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:58.593 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:32:58.593 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:32:58.594 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:32:58.594 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:32:58.599 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:32:58.603 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:32:58.603 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:32:58.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:32:58.614 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:32:58.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:32:58.620 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:32:58.621 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:32:58.621 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:32:58.623 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:32:58.625 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:32:58.625 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:32:58.624(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:32:58.624(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:32:58.624(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:32:58.624(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:32:58.624(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:32:58.624(Timestamp) 
2020-06-09 12:32:58.659 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:03.051 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:03.052 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:03.059 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:03.064 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:03.065 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:03.070 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:03.074 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:03.075 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:03.081 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:03.087 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:03.087 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:03.094 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:03.100 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:03.100 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:03.106 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:03.110 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:03.110 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:03.110 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:03.111 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:03.117 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:03.122 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:03.122 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:03.133 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:03.133 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:03.135 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:03.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:03.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:03.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:03.138 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:03.139 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:03.139 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:03.138(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:03.138(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:03.138(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:03.138(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:03.138(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:03.138(Timestamp) 
2020-06-09 12:33:03.157 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:07.565 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:07.566 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:07.577 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:07.585 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:07.586 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:07.591 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:07.598 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:07.599 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:07.610 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:07.618 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:07.619 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:07.627 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:07.632 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:07.633 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:07.639 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:07.644 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:07.644 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:07.645 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:07.646 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:07.655 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:07.660 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:07.660 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:07.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:07.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:07.686 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:07.691 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:07.692 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:07.692 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:07.694 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:07.696 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:07.696 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:07.695(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:07.695(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:07.695(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:07.695(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:07.695(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:07.695(Timestamp) 
2020-06-09 12:33:07.706 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:12.038 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:12.038 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:12.043 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:12.047 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:12.048 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:12.053 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:12.057 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:12.057 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:12.062 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:12.067 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:12.067 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:12.071 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:12.074 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:12.076 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:12.080 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:12.084 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:12.084 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:12.085 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:12.085 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:12.090 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:12.094 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:12.094 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:12.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:12.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:12.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:12.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:12.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:12.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:12.106 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:12.106 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:12.107 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:12.106(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:12.106(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:12.106(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:12.106(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:12.106(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:12.106(Timestamp) 
2020-06-09 12:33:12.146 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:16.914 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:16.915 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:16.920 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:16.924 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:16.924 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:16.929 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:16.933 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:16.934 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:16.939 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:16.944 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:16.944 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:16.949 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:16.954 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:16.955 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:16.961 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:16.965 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:16.966 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:16.966 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:16.966 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:16.972 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:16.978 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:16.978 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:16.992 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:16.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:16.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:16.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:16.998 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:16.998 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:17.000 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:17.000 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:17.001 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:17.0(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:17.0(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:17.0(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:17.0(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:17.0(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:17.0(Timestamp) 
2020-06-09 12:33:17.028 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:20.696 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:20.697 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:20.702 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:20.706 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:20.706 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:20.711 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:20.714 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:20.715 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:20.719 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:20.723 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:20.723 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:20.727 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:20.732 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:20.732 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:20.737 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:20.741 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:20.741 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:20.741 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:20.741 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:20.746 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:20.751 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:20.751 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:20.759 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:20.760 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:20.761 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:20.762 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:20.763 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:20.763 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:20.764 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:20.764 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:20.764 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:20.764(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:20.764(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:20.764(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:20.764(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:20.764(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:20.764(Timestamp) 
2020-06-09 12:33:20.780 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:24.394 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:24.394 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:24.401 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:24.406 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:24.406 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:24.412 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:24.416 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:24.416 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:24.421 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:24.425 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:24.426 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:24.430 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:24.435 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:24.435 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:24.440 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:24.446 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:24.446 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:24.447 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:24.448 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:24.454 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:24.457 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:24.458 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:24.483 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:24.484 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:24.485 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:24.487 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:24.488 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:24.488 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:24.489 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:24.490 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:24.490 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:24.489(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:24.489(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:24.489(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:24.489(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:24.489(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:24.489(Timestamp) 
2020-06-09 12:33:24.503 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:28.160 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:28.160 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:28.165 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:28.169 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:28.170 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:28.174 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:28.178 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:28.179 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:28.184 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:28.188 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:28.188 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:28.193 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:28.197 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:28.197 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:28.202 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:28.208 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:28.208 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:28.208 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:28.208 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:28.214 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:28.218 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:28.218 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:28.235 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:28.238 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:28.241 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:28.245 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:28.246 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:28.247 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:28.249 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:28.251 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:28.251 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:28.249(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:28.249(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:28.249(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:28.249(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:28.249(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:28.249(Timestamp) 
2020-06-09 12:33:28.268 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:33:31.870 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 12:33:31.870 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:31.876 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 12:33:31.880 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 12:33:31.880 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 12:33:31.885 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 12:33:31.890 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 12:33:31.891 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 12:33:31.897 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 14 
2020-06-09 12:33:31.901 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 12:33:31.902 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:31.906 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 12:33:31.911 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:31.911 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:31.916 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:31.920 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 12:33:31.921 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 12:33:31.921 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 12:33:31.922 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 12:33:31.927 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 12:33:31.932 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 12:33:31.932 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 12:33:31.945 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-09 12:33:31.945 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 12:33:31.946 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-09 12:33:31.947 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 12:33:31.948 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 12:33:31.948 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-09 12:33:31.949 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-09 12:33:31.949 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 12:33:31.949 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-09 12:33:31.949(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 12:33:31.949(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-09 12:33:31.949(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 12:33:31.949(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 12:33:31.949(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-09 12:33:31.949(Timestamp) 
2020-06-09 12:33:31.970 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-09 12:53:15.999 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 1296 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 12:53:16.003 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 12:53:16.003 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 12:53:17.435 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 12:53:17.447 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:53:17.448 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 12:53:17.448 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 12:53:17.517 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 12:53:17.517 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1431 ms 
2020-06-09 12:53:17.599 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 12:53:17.874 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 12:53:18.711 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 12:53:18.897 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 12:53:18.916 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 12:53:19.021 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 12:53:19.243 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 12:53:19.254 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 12:53:19.255 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 12:53:19.645 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 12:53:19.669 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 12:53:19.669 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 12:53:19.776 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 12:53:19.969 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 12:53:19.993 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 12:53:19.996 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.573 seconds (JVM running for 5.012) 
2020-06-09 12:53:19.997 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 13:07:13.592 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 3580 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-09 13:07:13.595 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-09 13:07:13.595 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-09 13:07:15.031 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-09 13:07:15.043 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-09 13:07:15.043 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-09 13:07:15.044 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-09 13:07:15.115 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-09 13:07:15.115 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1438 ms 
2020-06-09 13:07:15.196 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-09 13:07:15.470 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-09 13:07:16.097 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-09 13:07:16.332 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-09 13:07:16.352 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-09 13:07:16.425 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-09 13:07:16.651 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-09 13:07:16.661 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-09 13:07:16.662 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-09 13:07:17.058 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-09 13:07:17.082 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-09 13:07:17.082 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-09 13:07:17.191 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-09 13:07:17.430 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-09 13:07:17.454 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-09 13:07:17.457 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.41 seconds (JVM running for 4.86) 
2020-06-09 13:07:17.458 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-09 13:07:17.663 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-09 13:07:17.663 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-09 13:07:17.670 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-09 13:07:17.706 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:17.712 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:17.720 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:17.725 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:17.726 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:17.736 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:17.741 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:17.741 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:17.748 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 28 
2020-06-09 13:07:17.753 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:17.754 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:17.760 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:17.765 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:17.766 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:17.770 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:17.775 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:17.775 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:17.776 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:17.777 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:17.781 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:17.786 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:17.787 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:17.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:17.874 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:17.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:17.883 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:17.889 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:17.893 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:17.897 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:17.900 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:17.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:17.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:17.905 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:17.908 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:17.909 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:17.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:17.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:17.917 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:17.918 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:17.925 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:17.971 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:17.973 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:17.925(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:17.925(Timestamp) 
2020-06-09 13:07:18.014 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:21.788 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:21.788 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:21.797 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:21.802 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:21.803 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:21.810 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:21.816 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:21.816 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:21.823 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 42 
2020-06-09 13:07:21.829 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:21.830 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:21.834 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:21.839 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:21.840 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:21.845 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:21.848 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:21.849 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:21.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:21.850 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:21.855 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:21.859 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:21.859 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:21.899 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:21.901 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:21.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:21.905 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:21.906 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:21.908 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:21.908 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:21.909 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:21.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:21.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:21.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:21.912 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:21.912 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:21.913 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:21.913 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:21.914 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:21.914 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:21.915 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:21.917 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:21.919 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:21.915(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:21.915(Timestamp) 
2020-06-09 13:07:21.954 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:26.011 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:26.012 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:26.018 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:26.025 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:26.026 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:26.032 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:26.038 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:26.038 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:26.045 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 56 
2020-06-09 13:07:26.048 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:26.049 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:26.053 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:26.057 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:26.057 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:26.063 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:26.066 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:26.066 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:26.067 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:26.068 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:26.073 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:26.078 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:26.078 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:26.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:26.093 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:26.094 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:26.094 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:26.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:26.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:26.097 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:26.098 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:26.098 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:26.099 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:26.100 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:26.101 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:26.101 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:26.101 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:26.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:26.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:26.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:26.103 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:26.105 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:26.106 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:26.104(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:26.104(Timestamp) 
2020-06-09 13:07:26.141 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:29.851 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:29.852 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:29.868 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:29.872 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:29.872 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:29.879 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:29.883 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:29.884 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:29.898 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 70 
2020-06-09 13:07:29.903 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:29.904 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:29.909 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:29.914 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:29.915 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:29.930 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:29.935 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:29.935 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:29.936 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:29.936 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:29.943 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:29.948 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:29.948 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:29.961 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:29.962 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:29.963 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:29.964 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:29.965 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:29.966 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:29.966 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:29.967 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:29.968 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:29.968 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:29.969 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:29.969 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:29.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:29.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:29.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:29.971 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:29.972 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:29.972 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:29.974 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:29.975 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:29.973(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:29.973(Timestamp) 
2020-06-09 13:07:29.996 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:33.667 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:33.667 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:33.673 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:33.679 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:33.679 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:33.685 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:33.690 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:33.691 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:33.696 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 84 
2020-06-09 13:07:33.700 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:33.701 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:33.707 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:33.712 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:33.712 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:33.717 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:33.722 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:33.723 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:33.723 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:33.723 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:33.729 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:33.733 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:33.734 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:33.744 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:33.745 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:33.746 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:33.747 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:33.748 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:33.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:33.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:33.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:33.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:33.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:33.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:33.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:33.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:33.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:33.754 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:33.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:33.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:33.756 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:33.757 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:33.758 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:33.756(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:33.756(Timestamp) 
2020-06-09 13:07:33.777 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:45.445 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:45.446 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:45.452 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:45.458 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:45.459 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:45.465 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:45.470 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:45.470 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:45.478 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 98 
2020-06-09 13:07:45.483 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:45.483 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:45.491 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:45.496 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:45.498 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:45.505 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:45.509 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:45.509 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:45.509 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:45.510 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:45.515 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:45.520 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:45.520 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:45.529 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:45.531 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:45.532 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:45.532 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:45.534 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:45.535 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:45.535 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:45.536 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:45.536 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:45.536 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:45.537 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:45.539 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:45.539 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:45.540 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:45.540 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:45.541 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:45.541 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:45.542 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:45.543 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:45.544 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:45.542(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:45.542(Timestamp) 
2020-06-09 13:07:45.575 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:51.346 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:51.347 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:51.359 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:51.370 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:51.371 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:51.376 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:51.380 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:51.380 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:51.386 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 112 
2020-06-09 13:07:51.394 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:51.394 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:51.398 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:51.404 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:51.404 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:51.409 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:51.414 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:51.414 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:51.414 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:51.414 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:51.422 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:51.431 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:51.431 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:51.440 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:51.440 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:51.442 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:51.443 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:51.445 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:51.447 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:51.448 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:51.449 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:51.450 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:51.451 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:51.452 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:51.453 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:51.454 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:51.454 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:51.455 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:51.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:51.458 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:51.459 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:51.461 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:51.463 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:51.46(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:51.46(Timestamp) 
2020-06-09 13:07:51.483 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:07:55.914 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:07:55.915 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:55.921 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:07:55.927 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:07:55.928 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:07:55.933 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:07:55.938 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:07:55.939 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:07:55.946 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 126 
2020-06-09 13:07:55.951 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:07:55.952 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:55.957 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:07:55.962 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:55.962 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:55.967 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:55.971 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:07:55.972 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:07:55.972 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:07:55.972 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:07:55.979 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:07:55.984 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:07:55.984 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:07:55.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:07:55.994 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:07:55.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:07:55.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:07:55.996 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:07:55.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:07:55.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:07:55.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:07:55.998 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:07:55.998 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:07:55.999 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:07:55.999 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:07:55.999 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:07:56.000 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:07:56.000 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:07:56.001 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:07:56.001 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:07:56.002 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:07:56.003 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:07:56.004 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:07:56.002(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:07:56.002(Timestamp) 
2020-06-09 13:07:56.024 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:00.075 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:00.076 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:00.087 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:00.092 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:00.092 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:00.097 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:00.101 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:00.102 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:00.109 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 140 
2020-06-09 13:08:00.114 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:00.115 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:00.120 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:00.126 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:00.127 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:00.132 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:00.136 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:00.136 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:00.137 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:00.138 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:00.144 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:00.148 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:00.148 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:00.160 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:00.161 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:00.162 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:00.163 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:00.164 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:00.165 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:00.165 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:00.166 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:00.167 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:00.167 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:00.168 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:00.169 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:00.169 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:00.169 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:00.170 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:00.171 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:00.171 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:00.172 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:00.173 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:00.174 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:00.172(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:00.172(Timestamp) 
2020-06-09 13:08:00.206 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:04.139 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:04.139 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:04.149 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:04.159 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:04.159 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:04.171 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:04.181 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:04.182 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:04.191 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 154 
2020-06-09 13:08:04.196 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:04.196 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:04.201 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:04.206 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:04.207 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:04.217 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:04.224 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:04.224 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:04.224 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:04.225 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:04.231 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:04.237 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:04.237 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:04.244 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:04.245 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:04.245 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:04.246 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:04.246 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:04.247 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:04.247 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:04.248 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:04.248 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:04.248 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:04.249 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:04.249 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:04.250 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:04.250 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:04.250 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:04.251 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:04.251 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:04.252 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:04.253 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:04.254 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:04.252(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:04.252(Timestamp) 
2020-06-09 13:08:04.318 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:08.195 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:08.196 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:08.211 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:08.227 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:08.228 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:08.236 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:08.242 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:08.243 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:08.251 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 168 
2020-06-09 13:08:08.256 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:08.257 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:08.261 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:08.266 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:08.267 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:08.276 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:08.282 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:08.282 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:08.283 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:08.283 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:08.294 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:08.301 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:08.301 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:08.340 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:08.341 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:08.342 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:08.343 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:08.344 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:08.345 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:08.346 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:08.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:08.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:08.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:08.348 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:08.349 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:08.349 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:08.350 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:08.350 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:08.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:08.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:08.352 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:08.353 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:08.354 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:08.352(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:08.352(Timestamp) 
2020-06-09 13:08:08.399 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:11.959 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:11.959 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:11.965 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:11.970 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:11.971 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:11.980 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:11.985 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:11.985 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:11.993 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 182 
2020-06-09 13:08:11.998 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:11.999 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:12.005 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:12.013 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:12.014 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:12.019 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:12.023 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:12.023 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:12.024 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:12.024 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:12.031 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:12.035 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:12.035 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:12.044 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:12.045 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:12.046 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:12.046 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:12.047 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:12.048 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:12.049 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:12.049 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:12.050 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:12.050 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:12.050 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:12.051 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:12.051 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:12.052 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:12.052 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:12.053 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:12.053 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:12.053 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:12.054 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:12.055 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:12.053(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:12.053(Timestamp) 
2020-06-09 13:08:12.080 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:15.896 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:15.897 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:15.902 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:15.910 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:15.910 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:15.915 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:15.920 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:15.921 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:15.930 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 196 
2020-06-09 13:08:15.936 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:15.936 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:15.942 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:15.947 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:15.948 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:15.954 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:15.958 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:15.958 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:15.959 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:15.960 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:15.965 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:15.969 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:15.970 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:15.985 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:15.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:15.987 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:15.988 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:15.990 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:15.991 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:15.992 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:15.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:15.994 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:15.994 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:15.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:15.996 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:15.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:15.997 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:15.998 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:15.999 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:15.999 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:16.000 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:16.002 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:16.003 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:16.001(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:16.001(Timestamp) 
2020-06-09 13:08:16.021 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:19.759 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:19.760 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:19.765 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:19.770 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:19.770 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:19.775 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:19.779 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:19.779 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:19.786 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 210 
2020-06-09 13:08:19.794 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:19.794 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:19.800 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:19.805 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:19.806 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:19.811 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:19.815 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:19.815 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:19.815 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:19.816 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:19.821 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:19.825 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:19.825 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:19.836 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:19.837 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:19.842 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:19.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:19.844 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:19.845 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:19.846 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:19.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:19.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:19.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:19.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:19.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:19.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:19.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:19.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:19.854 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:19.854 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:19.855 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:19.856 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:19.863 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:19.855(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:19.855(Timestamp) 
2020-06-09 13:08:19.888 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:24.633 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:24.634 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:24.644 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:24.648 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:24.649 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:24.654 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:24.659 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:24.660 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:24.667 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 224 
2020-06-09 13:08:24.672 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:24.673 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:24.678 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:24.683 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:24.683 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:24.688 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:24.695 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:24.696 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:24.696 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:24.697 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:24.703 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:24.707 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:24.708 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:24.721 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:24.722 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:24.723 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:24.724 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:24.726 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:24.727 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:24.727 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:24.728 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:24.729 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:24.729 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:24.730 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:24.731 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:24.731 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:24.732 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:24.732 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:24.734 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:24.734 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:24.735 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:24.737 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:24.738 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:24.735(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:24.735(Timestamp) 
2020-06-09 13:08:24.758 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:28.428 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:28.429 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:28.437 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:28.443 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:28.443 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:28.451 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:28.456 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:28.457 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:28.464 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 238 
2020-06-09 13:08:28.469 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:28.469 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:28.475 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:28.480 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:28.481 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:28.485 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:28.489 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:28.489 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:28.489 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:28.490 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:28.495 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:28.500 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:28.500 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:28.514 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:28.517 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:28.520 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:28.523 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:28.527 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:28.530 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:28.532 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:28.534 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:28.536 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:28.536 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:28.539 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:28.541 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:28.542 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:28.542 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:28.544 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:28.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:28.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:28.551 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:28.553 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:28.554 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:28.552(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:28.552(Timestamp) 
2020-06-09 13:08:28.571 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:33.298 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:33.298 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:33.307 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:33.312 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:33.313 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:33.318 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:33.323 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:33.323 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:33.330 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 252 
2020-06-09 13:08:33.334 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:33.335 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:33.339 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:33.344 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:33.344 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:33.349 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:33.357 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:33.358 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:33.358 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:33.358 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:33.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:33.373 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:33.374 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:33.382 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:33.383 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:33.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:33.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:33.385 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:33.386 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:33.386 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:33.387 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:33.387 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:33.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:33.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:33.390 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:33.391 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:33.391 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:33.391 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:33.392 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:33.392 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:33.393 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:33.394 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:33.394 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:33.393(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:33.393(Timestamp) 
2020-06-09 13:08:33.434 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:37.531 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:37.532 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:37.537 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:37.541 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:37.542 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:37.547 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:37.552 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:37.553 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:37.560 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 266 
2020-06-09 13:08:37.565 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:37.565 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:37.570 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:37.575 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:37.575 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:37.580 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:37.584 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:37.584 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:37.585 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:37.585 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:37.592 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:37.597 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:37.598 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:37.606 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:37.607 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:37.608 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:37.608 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:37.609 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:37.610 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:37.610 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:37.610 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:37.611 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:37.611 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:37.611 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:37.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:37.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:37.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:37.614 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:37.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:37.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:37.616 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:37.616 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:37.617 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:37.616(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:37.616(Timestamp) 
2020-06-09 13:08:37.635 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:41.674 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:41.675 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:41.680 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:41.686 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:41.686 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:41.691 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:41.696 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:41.697 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:41.704 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 280 
2020-06-09 13:08:41.708 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:41.708 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:41.712 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:41.717 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:41.718 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:41.722 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:41.728 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:41.728 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:41.728 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:41.729 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:41.736 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:41.740 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:41.740 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:41.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:41.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:41.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:41.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:41.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:41.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:41.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:41.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:41.754 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:41.754 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:41.754 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:41.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:41.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:41.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:41.755 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:41.756 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:41.756 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:41.757 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:41.758 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:41.758 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:41.757(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:41.757(Timestamp) 
2020-06-09 13:08:41.776 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:46.025 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:46.026 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:46.031 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:46.036 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:46.037 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:46.042 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:46.045 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:46.046 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:46.054 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 294 
2020-06-09 13:08:46.060 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:46.060 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:46.065 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:46.069 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:46.071 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:46.075 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:46.080 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:46.080 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:46.081 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:46.081 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:46.087 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:46.092 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:46.092 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:46.104 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:46.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:46.106 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:46.106 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:46.107 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:46.108 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:46.108 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:46.109 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:46.109 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:46.109 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:46.110 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:46.111 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:46.111 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:46.111 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:46.112 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:46.112 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:46.113 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:46.113 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:46.114 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:46.115 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:46.113(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:46.113(Timestamp) 
2020-06-09 13:08:46.133 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:50.197 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:50.198 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:50.203 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:50.209 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:50.209 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:50.215 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:50.220 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:50.220 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:50.227 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 308 
2020-06-09 13:08:50.232 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:50.233 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:50.237 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:50.244 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:50.244 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:50.249 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:50.252 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:50.253 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:50.253 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:50.253 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:50.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:50.264 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:50.264 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:50.278 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:50.279 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:50.280 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:50.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:50.282 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:50.292 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:50.292 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:50.293 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:50.293 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:50.293 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:50.294 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:50.294 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:50.295 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:50.295 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:50.295 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:50.296 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:50.296 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:50.297 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:50.297 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:50.298 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:50.297(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:50.297(Timestamp) 
2020-06-09 13:08:50.313 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:54.445 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:54.445 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:54.451 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:54.457 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:54.457 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:54.463 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:54.468 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:54.468 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:54.478 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 322 
2020-06-09 13:08:54.485 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:54.486 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:54.492 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:54.499 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:54.500 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:54.507 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:54.513 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:54.514 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:54.515 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:54.516 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:54.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:54.528 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:54.529 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:54.553 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:54.555 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:54.557 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:54.559 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:54.561 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:54.562 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:54.562 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:54.563 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:54.563 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:54.564 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:54.565 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:54.565 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:54.566 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:54.566 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:54.566 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:54.567 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:54.567 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:54.568 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:54.569 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:54.570 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:54.568(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:54.568(Timestamp) 
2020-06-09 13:08:54.591 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:08:58.711 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:08:58.712 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:58.718 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:08:58.724 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:08:58.725 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:08:58.730 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:08:58.735 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:08:58.735 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:08:58.744 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 336 
2020-06-09 13:08:58.750 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:08:58.750 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:58.755 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:08:58.760 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:58.761 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:58.766 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:58.771 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:08:58.771 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:08:58.772 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:08:58.772 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:08:58.778 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:08:58.783 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:08:58.783 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:08:58.795 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:08:58.796 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:08:58.796 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:08:58.797 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:08:58.798 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:08:58.798 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:08:58.799 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:08:58.799 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:08:58.800 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:08:58.800 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:08:58.800 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:08:58.801 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:08:58.801 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:08:58.801 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:08:58.802 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:08:58.803 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:08:58.803 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:08:58.804 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:08:58.805 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:08:58.805 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:08:58.804(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:08:58.804(Timestamp) 
2020-06-09 13:08:58.890 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:02.542 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:02.543 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:02.548 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:02.553 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:02.554 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:02.558 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:02.562 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:02.563 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:02.570 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 350 
2020-06-09 13:09:02.575 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:02.575 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:02.579 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:02.584 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:02.584 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:02.589 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:02.594 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:02.594 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:02.594 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:02.595 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:02.600 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:02.604 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:02.604 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:02.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:02.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:02.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:02.617 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:02.618 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:02.619 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:02.619 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:02.620 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:02.620 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:02.620 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:02.621 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:02.622 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:02.622 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:02.622 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:02.622 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:02.623 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:02.623 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:02.624 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:02.625 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:02.626 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:02.624(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:02.624(Timestamp) 
2020-06-09 13:09:02.650 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:06.314 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:06.315 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:06.320 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:06.324 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:06.325 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:06.328 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:06.333 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:06.333 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:06.340 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 364 
2020-06-09 13:09:06.344 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:06.344 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:06.349 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:06.354 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:06.354 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:06.359 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:06.363 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:06.363 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:06.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:06.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:06.371 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:06.375 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:06.375 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:06.383 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:06.383 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:06.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:06.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:06.385 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:06.385 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:06.386 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:06.387 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:06.387 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:06.387 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:06.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:06.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:06.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:06.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:06.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:06.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:06.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:06.390 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:06.391 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:06.391 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:06.39(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:06.39(Timestamp) 
2020-06-09 13:09:06.407 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:11.129 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:11.129 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:11.138 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:11.144 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:11.145 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:11.153 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:11.158 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:11.159 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:11.168 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 378 
2020-06-09 13:09:11.173 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:11.174 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:11.180 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:11.184 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:11.184 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:11.191 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:11.196 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:11.196 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:11.197 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:11.197 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:11.208 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:11.213 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:11.214 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:11.226 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:11.227 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:11.228 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:11.229 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:11.230 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:11.231 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:11.231 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:11.232 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:11.233 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:11.233 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:11.234 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:11.235 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:11.235 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:11.235 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:11.236 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:11.237 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:11.237 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:11.238 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:11.239 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:11.240 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:11.238(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:11.238(Timestamp) 
2020-06-09 13:09:11.264 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:14.934 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:14.934 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:14.939 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:14.945 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:14.946 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:14.954 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:14.959 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:14.959 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:14.967 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 392 
2020-06-09 13:09:14.972 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:14.973 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:14.977 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:14.981 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:14.981 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:14.986 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:14.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:14.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:14.990 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:14.990 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:14.995 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:14.999 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:14.999 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:15.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:15.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:15.009 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:15.009 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:15.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:15.011 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:15.011 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:15.011 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:15.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:15.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:15.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:15.013 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:15.013 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:15.013 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:15.013 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:15.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:15.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:15.014 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:15.015 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:15.016 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:15.015(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:15.015(Timestamp) 
2020-06-09 13:09:15.030 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:18.893 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:18.894 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:18.900 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:18.905 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:18.906 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:18.912 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:18.917 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:18.918 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:18.929 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 406 
2020-06-09 13:09:18.935 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:18.936 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:18.940 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:18.945 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:18.945 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:18.951 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:18.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:18.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:18.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:18.957 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:18.962 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:18.966 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:18.966 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:18.974 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:18.975 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:18.975 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:18.976 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:18.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:18.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:18.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:18.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:18.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:18.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:18.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:18.981 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:18.981 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:18.982 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:18.982 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:18.981(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:18.981(Timestamp) 
2020-06-09 13:09:19.014 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:22.753 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:22.754 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:22.761 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:22.767 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:22.768 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:22.774 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:22.783 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:22.783 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:22.791 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 420 
2020-06-09 13:09:22.799 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:22.799 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:22.804 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:22.809 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:22.809 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:22.815 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:22.821 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:22.821 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:22.822 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:22.822 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:22.829 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:22.834 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:22.834 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:22.846 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:22.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:22.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:22.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:22.849 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:22.850 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:22.850 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:22.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:22.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:22.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:22.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:22.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:22.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:22.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:22.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:22.854 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:22.854 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:22.854 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:22.855 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:22.855 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:22.854(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:22.854(Timestamp) 
2020-06-09 13:09:22.871 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:27.737 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:27.738 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:27.744 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:27.750 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:27.751 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:27.759 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:27.765 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:27.766 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:27.779 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 434 
2020-06-09 13:09:27.785 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:27.786 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:27.792 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:27.799 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:27.800 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:27.808 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:27.814 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:27.815 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:27.816 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:27.817 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:27.824 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:27.829 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:27.829 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:27.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:27.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:27.857 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:27.859 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:27.861 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:27.862 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:27.862 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:27.863 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:27.863 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:27.863 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:27.864 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:27.865 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:27.865 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:27.865 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:27.866 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:27.867 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:27.867 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:27.868 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:27.868 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:27.869 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:27.868(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:27.868(Timestamp) 
2020-06-09 13:09:27.894 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:31.680 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:31.680 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:31.690 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:31.695 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:31.695 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:31.701 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:31.705 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:31.706 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:31.713 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 448 
2020-06-09 13:09:31.717 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:31.718 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:31.721 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:31.726 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:31.726 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:31.734 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:31.742 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:31.742 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:31.743 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:31.743 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:31.751 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:31.756 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:31.756 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:31.764 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:31.765 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:31.766 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:31.767 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:31.767 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:31.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:31.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:31.769 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:31.769 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:31.769 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:31.770 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:31.770 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:31.770 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:31.770 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:31.771 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:31.771 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:31.772 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:31.772 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:31.773 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:31.773 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:31.772(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:31.772(Timestamp) 
2020-06-09 13:09:31.787 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:35.688 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:35.688 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:35.697 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:35.703 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:35.703 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:35.708 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:35.714 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:35.714 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:35.723 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 462 
2020-06-09 13:09:35.730 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:35.730 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:35.734 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:35.738 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:35.738 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:35.746 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:35.750 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:35.750 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:35.750 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:35.751 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:35.757 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:35.761 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:35.762 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:35.777 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:35.777 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:35.778 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:35.779 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:35.779 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:35.780 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:35.780 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:35.780 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:35.781 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:35.781 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:35.782 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:35.782 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:35.783 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:35.783 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:35.783 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:35.784 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:35.784 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:35.784 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:35.785 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:35.786 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:35.785(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:35.785(Timestamp) 
2020-06-09 13:09:35.804 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:39.539 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:39.539 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:39.544 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:39.550 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:39.551 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:39.556 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:39.560 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:39.561 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:39.570 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 476 
2020-06-09 13:09:39.578 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:39.578 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:39.584 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:39.590 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:39.591 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:39.597 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:39.603 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:39.603 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:39.604 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:39.604 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:39.618 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:39.623 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:39.623 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:39.638 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:39.639 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:39.640 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:39.641 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:39.643 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:39.644 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:39.645 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:39.646 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:39.646 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:39.647 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:39.648 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:39.649 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:39.649 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:39.650 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:39.650 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:39.651 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:39.651 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:39.652 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:39.653 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:39.653 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:39.652(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:39.652(Timestamp) 
2020-06-09 13:09:39.691 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:43.368 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:43.368 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:43.375 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:43.380 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:43.380 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:43.385 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:43.390 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:43.390 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:43.398 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 490 
2020-06-09 13:09:43.403 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:43.403 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:43.410 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:43.414 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:43.414 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:43.420 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:43.424 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:43.424 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:43.425 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:43.425 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:43.431 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:43.435 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:43.436 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:43.444 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:43.444 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:43.445 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:43.445 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:43.446 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:43.446 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:43.447 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:43.447 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:43.447 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:43.447 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:43.448 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:43.448 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:43.448 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:43.449 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:43.449 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:43.449 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:43.450 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:43.450 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:43.451 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:43.451 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:43.45(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:43.45(Timestamp) 
2020-06-09 13:09:43.467 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:47.183 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:47.184 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:47.189 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:47.194 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:47.194 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:47.200 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:47.205 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:47.205 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:47.258 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 504 
2020-06-09 13:09:47.264 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:47.265 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:47.269 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:47.273 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:47.274 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:47.278 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:47.282 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:47.282 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:47.283 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:47.283 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:47.289 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:47.294 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:47.294 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:47.305 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:47.306 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:47.306 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:47.307 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:47.308 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:47.309 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:47.309 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:47.310 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:47.310 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:47.311 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:47.311 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:47.312 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:47.312 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:47.312 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:47.313 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:47.314 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:47.314 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:47.315 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:47.315 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:47.316 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:47.315(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:47.315(Timestamp) 
2020-06-09 13:09:47.328 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:51.681 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:51.682 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:51.686 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:51.690 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:51.691 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:51.695 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:51.699 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:51.700 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:51.720 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 518 
2020-06-09 13:09:51.725 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:51.725 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:51.729 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:51.734 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:51.734 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:51.740 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:51.744 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:51.744 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:51.744 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:51.744 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:51.750 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:51.755 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:51.755 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:51.762 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:51.763 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:51.763 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:51.764 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:51.765 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:51.765 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:51.766 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:51.766 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:51.766 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:51.767 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:51.767 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:51.767 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:51.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:51.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:51.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:51.769 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:51.769 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:51.769 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:51.770 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:51.770 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:51.769(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:51.769(Timestamp) 
2020-06-09 13:09:51.791 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:55.460 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:55.461 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:55.466 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:55.471 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:55.471 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:55.477 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:55.482 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:55.482 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:55.502 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 532 
2020-06-09 13:09:55.506 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:55.506 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:55.519 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:55.523 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:55.524 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:55.530 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:55.535 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:55.535 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:55.536 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:55.537 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:55.543 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:55.548 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:55.549 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:55.570 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:55.572 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:55.574 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:55.575 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:55.578 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:55.579 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:55.581 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:55.582 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:55.582 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:55.583 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:55.584 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:55.585 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:55.585 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:55.585 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:55.586 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:55.587 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:55.588 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:55.589 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:55.590 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:55.591 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:55.589(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:55.589(Timestamp) 
2020-06-09 13:09:55.603 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:09:59.450 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:09:59.450 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:59.456 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:09:59.461 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:09:59.462 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:09:59.467 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:09:59.471 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:09:59.472 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:09:59.492 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 546 
2020-06-09 13:09:59.497 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:09:59.498 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:59.505 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:09:59.510 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:59.511 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:59.517 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:59.522 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:09:59.522 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:09:59.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:09:59.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:09:59.531 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:09:59.536 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:09:59.536 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:09:59.549 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:09:59.550 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:09:59.551 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:09:59.552 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:09:59.552 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:09:59.553 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:09:59.553 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:09:59.554 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:09:59.555 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:09:59.555 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:09:59.556 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:09:59.557 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:09:59.557 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:09:59.557 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:09:59.558 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:09:59.559 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:09:59.559 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:09:59.560 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:09:59.561 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:09:59.561 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:09:59.56(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:09:59.56(Timestamp) 
2020-06-09 13:09:59.582 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:03.299 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:03.299 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:03.304 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:03.309 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:03.309 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:03.315 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:03.319 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:03.320 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:03.340 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 560 
2020-06-09 13:10:03.346 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:03.346 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:03.352 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:03.358 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:03.359 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:03.365 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:03.370 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:03.371 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:03.372 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:03.372 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:03.380 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:03.386 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:03.387 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:03.401 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:03.402 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:03.403 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:03.404 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:03.405 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:03.406 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:03.407 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:03.408 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:03.409 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:03.409 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:03.410 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:03.411 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:03.411 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:03.411 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:03.412 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:03.412 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:03.412 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:03.413 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:03.413 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:03.414 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:03.413(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:03.413(Timestamp) 
2020-06-09 13:10:03.432 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:07.231 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:07.231 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:07.240 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:07.245 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:07.246 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:07.258 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:07.263 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:07.263 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:07.289 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 574 
2020-06-09 13:10:07.295 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:07.296 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:07.305 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:07.310 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:07.311 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:07.321 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:07.327 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:07.327 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:07.328 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:07.328 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:07.339 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:07.342 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:07.343 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:07.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:07.352 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:07.353 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:07.353 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:07.354 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:07.355 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:07.356 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:07.356 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:07.356 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:07.357 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:07.357 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:07.358 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:07.358 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:07.358 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:07.358 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:07.359 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:07.359 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:07.360 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:07.360 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:07.361 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:07.36(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:07.36(Timestamp) 
2020-06-09 13:10:07.392 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:11.326 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:11.327 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:11.332 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:11.339 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:11.340 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:11.346 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:11.354 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:11.355 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:11.377 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 588 
2020-06-09 13:10:11.383 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:11.384 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:11.389 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:11.396 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:11.396 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:11.401 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:11.408 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:11.409 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:11.410 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:11.411 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:11.417 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:11.422 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:11.423 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:11.446 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:11.448 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:11.450 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:11.451 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:11.452 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:11.453 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:11.453 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:11.454 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:11.455 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:11.455 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:11.456 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:11.456 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:11.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:11.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:11.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:11.458 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:11.459 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:11.459 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:11.460 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:11.461 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:11.459(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:11.459(Timestamp) 
2020-06-09 13:10:11.492 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:15.291 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:15.292 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:15.298 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:15.303 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:15.303 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:15.309 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:15.313 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:15.314 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:15.334 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 602 
2020-06-09 13:10:15.340 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:15.340 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:15.345 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:15.349 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:15.350 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:15.358 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:15.363 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:15.363 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:15.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:15.365 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:15.372 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:15.377 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:15.377 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:15.418 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:15.419 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:15.420 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:15.421 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:15.422 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:15.422 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:15.423 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:15.423 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:15.424 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:15.424 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:15.425 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:15.426 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:15.426 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:15.426 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:15.427 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:15.427 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:15.428 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:15.428 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:15.429 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:15.429 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:15.428(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:15.428(Timestamp) 
2020-06-09 13:10:15.446 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:19.175 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:19.176 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:19.181 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:19.186 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:19.187 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:19.192 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:19.196 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:19.197 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:19.217 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 616 
2020-06-09 13:10:19.221 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:19.222 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:19.227 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:19.232 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:19.233 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:19.237 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:19.242 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:19.242 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:19.242 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:19.243 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:19.248 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:19.252 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:19.252 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:19.266 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:19.267 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:19.268 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:19.269 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:19.271 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:19.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:19.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:19.274 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:19.275 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:19.275 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:19.276 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:19.278 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:19.278 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:19.278 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:19.279 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:19.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:19.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:19.281 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:19.282 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:19.282 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:19.282(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:19.282(Timestamp) 
2020-06-09 13:10:19.298 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:23.188 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:23.188 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:23.200 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:23.205 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:23.206 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:23.211 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:23.217 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:23.218 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:23.239 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 630 
2020-06-09 13:10:23.244 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:23.244 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:23.249 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:23.253 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:23.254 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:23.259 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:23.263 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:23.264 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:23.264 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:23.265 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:23.271 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:23.276 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:23.276 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:23.291 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:23.295 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:23.296 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:23.297 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:23.299 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:23.300 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:23.300 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:23.301 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:23.301 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:23.301 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:23.302 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:23.302 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:23.302 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:23.303 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:23.303 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:23.303 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:23.304 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:23.304 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:23.305 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:23.305 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:23.304(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:23.304(Timestamp) 
2020-06-09 13:10:23.349 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:26.998 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:26.998 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:27.011 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:27.016 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:27.016 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:27.024 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:27.029 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:27.029 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:27.048 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 644 
2020-06-09 13:10:27.052 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:27.053 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:27.058 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:27.063 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:27.064 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:27.069 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:27.073 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:27.073 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:27.073 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:27.074 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:27.079 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:27.083 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:27.083 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:27.091 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:27.091 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:27.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:27.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:27.093 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:27.094 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:27.094 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:27.094 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:27.095 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:27.095 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:27.095 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:27.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:27.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:27.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:27.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:27.097 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:27.097 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:27.098 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:27.098 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:27.099 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:27.098(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:27.098(Timestamp) 
2020-06-09 13:10:27.156 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:30.852 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:30.852 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:30.858 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:30.862 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:30.863 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:30.868 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:30.872 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:30.872 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:30.894 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 658 
2020-06-09 13:10:30.898 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:30.899 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:30.903 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:30.907 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:30.907 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:30.912 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:30.916 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:30.916 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:30.917 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:30.917 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:30.922 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:30.927 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:30.927 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:30.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:30.935 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:30.935 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:30.936 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:30.937 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:30.937 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:30.937 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:30.938 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:30.938 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:30.938 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:30.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:30.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:30.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:30.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:30.940 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:30.940 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:30.940 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:30.941 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:30.941 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:30.941 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:30.941(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:30.941(Timestamp) 
2020-06-09 13:10:30.961 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:34.583 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:34.583 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:34.587 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:34.594 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:34.594 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:34.609 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:34.614 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:34.614 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:34.634 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 672 
2020-06-09 13:10:34.638 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:34.639 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:34.644 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:34.648 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:34.648 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:34.653 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:34.657 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:34.657 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:34.657 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:34.657 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:34.665 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:34.671 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:34.671 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:34.679 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:34.680 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:34.680 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:34.681 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:34.681 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:34.682 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:34.682 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:34.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:34.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:34.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:34.683 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:34.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:34.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:34.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:34.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:34.685 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:34.685 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:34.685 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:34.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:34.686 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:34.686(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:34.686(Timestamp) 
2020-06-09 13:10:34.712 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:38.464 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:38.464 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:38.479 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:38.484 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:38.485 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:38.494 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:38.500 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:38.501 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:38.524 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 686 
2020-06-09 13:10:38.530 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:38.531 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:38.539 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:38.546 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:38.547 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:38.556 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:38.561 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:38.562 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:38.563 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:38.564 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:38.577 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:38.582 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:38.582 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:38.604 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:38.606 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:38.607 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:38.608 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:38.610 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:38.611 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:38.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:38.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:38.613 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:38.614 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:38.615 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:38.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:38.616 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:38.617 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:38.618 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:38.619 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:38.619 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:38.620 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:38.622 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:38.622 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:38.621(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:38.621(Timestamp) 
2020-06-09 13:10:38.643 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:42.250 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:42.251 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:42.255 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:42.260 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:42.260 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:42.265 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:42.268 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:42.268 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:42.299 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 700 
2020-06-09 13:10:42.303 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:42.304 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:42.309 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:42.314 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:42.314 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:42.318 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:42.321 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:42.321 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:42.322 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:42.322 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:42.328 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:42.333 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:42.333 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:42.343 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:42.343 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:42.344 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:42.345 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:42.346 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:42.346 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:42.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:42.347 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:42.348 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:42.348 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:42.348 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:42.349 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:42.349 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:42.349 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:42.350 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:42.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:42.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:42.351 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:42.352 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:42.352 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:42.351(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:42.351(Timestamp) 
2020-06-09 13:10:42.387 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:46.069 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:46.069 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:46.074 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:46.079 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:46.079 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:46.084 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:46.087 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:46.087 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:46.108 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 714 
2020-06-09 13:10:46.114 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:46.114 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:46.120 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:46.124 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:46.125 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:46.129 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:46.133 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:46.133 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:46.133 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:46.134 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:46.140 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:46.144 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:46.144 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:46.152 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:46.152 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:46.153 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:46.153 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:46.154 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:46.155 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:46.155 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:46.156 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:46.156 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:46.156 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:46.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:46.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:46.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:46.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:46.158 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:46.158 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:46.158 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:46.159 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:46.160 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:46.160 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:46.159(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:46.159(Timestamp) 
2020-06-09 13:10:46.185 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:49.928 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:49.928 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:49.933 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:49.936 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:49.937 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:49.941 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:49.946 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:49.946 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:49.969 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 728 
2020-06-09 13:10:49.974 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:49.974 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:49.978 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:49.983 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:49.983 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:49.988 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:49.993 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:49.993 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:49.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:49.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:50.000 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:50.006 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:50.006 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:50.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:50.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:50.015 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:50.015 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:50.017 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:50.018 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:50.018 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:50.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:50.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:50.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:50.020 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:50.020 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:50.020 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:50.020 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:50.021 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:50.021 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:50.022 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:50.022 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:50.023 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:50.023 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:50.022(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:50.022(Timestamp) 
2020-06-09 13:10:50.053 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:53.909 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:53.910 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:53.915 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:53.920 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:53.920 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:53.928 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:53.932 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:53.933 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:53.953 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 742 
2020-06-09 13:10:53.957 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:53.957 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:53.961 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:53.965 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:53.965 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:53.969 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:53.973 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:53.973 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:53.974 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:53.974 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:53.979 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:53.984 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:53.984 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:54.005 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:54.006 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:54.006 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:54.007 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:54.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:54.009 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:54.009 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:54.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:54.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:54.011 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:54.011 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:54.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:54.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:54.012 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:54.013 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:54.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:54.014 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:54.014 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:54.015 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:54.016 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:54.015(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:54.015(Timestamp) 
2020-06-09 13:10:54.035 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:10:57.831 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:10:57.831 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:57.841 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:10:57.847 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:10:57.848 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:10:57.853 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:10:57.856 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:10:57.856 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:10:57.876 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 756 
2020-06-09 13:10:57.884 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:10:57.884 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:57.889 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:10:57.893 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:57.893 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:57.898 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:57.903 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:10:57.903 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:10:57.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:10:57.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:10:57.910 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:10:57.914 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:10:57.914 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:10:57.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:10:57.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:10:57.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:10:57.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:10:57.925 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:10:57.925 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:10:57.926 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:10:57.926 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:10:57.926 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:10:57.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:10:57.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:10:57.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:10:57.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:10:57.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:10:57.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:10:57.929 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:10:57.929 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:10:57.929 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:10:57.930 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:10:57.930 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:10:57.929(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:10:57.929(Timestamp) 
2020-06-09 13:10:57.950 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:01.747 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:01.747 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:01.752 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:01.756 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:01.756 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:01.761 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:01.765 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:01.766 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:01.785 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 770 
2020-06-09 13:11:01.790 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:01.791 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:01.796 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:01.801 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:01.802 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:01.807 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:01.812 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:01.812 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:01.813 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:01.814 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:01.819 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:01.823 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:01.824 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:01.840 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:01.841 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:01.843 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:01.844 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:01.846 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:01.847 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:01.848 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:01.849 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:01.849 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:01.850 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:01.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:01.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:01.851 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:01.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:01.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:01.852 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:01.853 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:01.853 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:01.854 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:01.854 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:01.853(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:01.853(Timestamp) 
2020-06-09 13:11:01.881 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:05.648 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:05.648 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:05.653 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:05.657 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:05.657 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:05.663 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:05.673 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:05.673 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:05.694 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 784 
2020-06-09 13:11:05.700 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:05.700 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:05.707 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:05.712 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:05.713 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:05.718 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:05.726 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:05.726 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:05.727 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:05.727 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:05.735 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:05.738 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:05.739 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:05.746 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:05.747 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:05.747 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:05.748 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:05.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:05.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:05.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:05.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:05.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:05.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:05.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:05.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:05.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:05.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:05.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:05.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:05.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:05.753 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:05.754 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:05.754 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:05.753(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:05.753(Timestamp) 
2020-06-09 13:11:05.774 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:09.906 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:09.906 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:09.911 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:09.916 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:09.916 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:09.925 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:09.930 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:09.931 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:09.951 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 798 
2020-06-09 13:11:09.958 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:09.959 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:09.968 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:09.973 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:09.974 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:09.985 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:09.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:09.990 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:09.991 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:09.992 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:09.999 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:10.003 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:10.004 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:10.021 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:10.022 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:10.024 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:10.025 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:10.027 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:10.028 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:10.029 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:10.030 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:10.031 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:10.031 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:10.032 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:10.033 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:10.034 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:10.034 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:10.035 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:10.037 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:10.037 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:10.038 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:10.040 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:10.040 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:10.038(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:10.038(Timestamp) 
2020-06-09 13:11:10.056 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:13.886 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:13.887 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:13.894 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:13.899 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:13.899 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:13.905 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:13.909 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:13.910 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:13.930 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 812 
2020-06-09 13:11:13.935 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:13.936 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:13.941 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:13.945 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:13.946 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:13.951 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:13.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:13.956 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:13.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:13.957 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:13.963 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:13.969 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:13.969 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:13.983 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:13.984 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:13.985 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:13.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:13.987 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:13.988 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:13.989 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:13.990 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:13.990 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:13.991 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:13.991 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:13.992 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:13.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:13.993 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:13.994 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:13.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:13.995 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:13.996 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:13.997 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:13.997 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:13.996(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:13.996(Timestamp) 
2020-06-09 13:11:14.013 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:17.807 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:17.808 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:17.814 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:17.821 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:17.822 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:17.827 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:17.832 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:17.832 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:17.853 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 826 
2020-06-09 13:11:17.859 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:17.859 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:17.867 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:17.872 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:17.873 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:17.882 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:17.887 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:17.887 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:17.888 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:17.888 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:17.898 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:17.903 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:17.903 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:17.916 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:17.918 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:17.919 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:17.920 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:17.921 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:17.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:17.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:17.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:17.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:17.925 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:17.925 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:17.926 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:17.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:17.927 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:17.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:17.929 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:17.929 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:17.930 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:17.931 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:17.931 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:17.93(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:17.93(Timestamp) 
2020-06-09 13:11:17.946 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:21.806 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:21.807 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:21.813 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:21.818 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:21.819 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:21.827 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:21.832 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:21.833 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:21.853 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 840 
2020-06-09 13:11:21.859 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:21.860 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:21.864 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:21.870 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:21.870 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:21.875 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:21.879 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:21.879 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:21.879 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:21.880 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:21.885 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:21.890 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:21.890 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:21.903 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:21.904 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:21.905 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:21.906 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:21.907 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:21.908 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:21.909 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:21.909 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:21.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:21.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:21.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:21.912 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:21.912 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:21.913 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:21.913 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:21.914 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:21.914 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:21.915 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:21.916 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:21.917 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:21.915(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:21.915(Timestamp) 
2020-06-09 13:11:21.945 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:26.899 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:26.900 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:26.912 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:26.917 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:26.917 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:26.924 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:26.929 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:26.930 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:26.953 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 854 
2020-06-09 13:11:26.959 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:26.959 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:26.963 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:26.969 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:26.969 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:26.973 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:26.978 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:26.978 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:26.979 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:26.979 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:26.985 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:26.990 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:26.990 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:27.001 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:27.002 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:27.003 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:27.004 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:27.005 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:27.005 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:27.006 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:27.006 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:27.006 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:27.007 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:27.007 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:27.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:27.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:27.008 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:27.009 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:27.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:27.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:27.010 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:27.011 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:27.011 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:27.011(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:27.011(Timestamp) 
2020-06-09 13:11:27.030 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:30.817 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:30.818 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:30.830 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:30.835 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:30.836 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:30.840 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:30.845 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:30.845 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:30.865 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 868 
2020-06-09 13:11:30.872 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:30.872 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:30.876 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:30.881 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:30.881 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:30.885 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:30.889 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:30.889 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:30.889 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:30.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:30.895 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:30.899 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:30.899 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:30.916 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:30.917 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:30.917 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:30.918 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:30.919 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:30.920 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:30.920 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:30.921 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:30.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:30.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:30.922 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:30.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:30.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:30.923 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:30.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:30.924 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:30.925 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:30.926 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:30.927 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:30.927 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:30.926(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:30.926(Timestamp) 
2020-06-09 13:11:30.961 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
2020-06-09 13:11:35.767 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-09 13:11:35.768 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:35.775 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-09 13:11:35.779 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-09 13:11:35.780 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-09 13:11:35.785 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-09 13:11:35.789 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-09 13:11:35.789 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-09 13:11:35.810 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 882 
2020-06-09 13:11:35.816 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-09 13:11:35.816 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:35.822 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-09 13:11:35.827 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:35.828 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:35.837 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:35.841 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-09 13:11:35.841 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-09 13:11:35.842 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-09 13:11:35.842 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-09 13:11:35.847 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-09 13:11:35.850 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-09 13:11:35.851 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-09 13:11:35.864 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:燃料类型超出字典范围燃料类型选项不在字典范围（1 液化气, 2 煤, 3 天然气,m 4 沼气, 5 柴火, 6 其他） 
2020-06-09 13:11:35.865 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厕所超出字典范围厕所选项不在字典范围（1 卫生厕所 2 一格或二格粪池式 3 马桶  4 露天粪坑  5 简易棚厕 ） 
2020-06-09 13:11:35.866 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:文化程度超出字典范围文化程度不在字典范围内（1 研究生 2 大学本科 3 大学专科和专科学校 4 中等专业学校 5 技工学校 6 高中 7 初中 8小学9文盲或半文盲10不详 ） 
2020-06-09 13:11:35.867 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史既往史疾病确诊时间未填写 
2020-06-09 13:11:35.869 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话本人电话未填写 
2020-06-09 13:11:35.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-09 13:11:35.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:RH超出字典范围RH不在字典范围内（1 阴性 2 阳性 3 不详 ） 
2020-06-09 13:11:35.871 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术时间未填写同时满足以下条件： 1、既往史手术选“有” 2、既往史手术填写了手术名称 3、手术时间为空值 
2020-06-09 13:11:35.871 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:禽畜栏超出字典范围禽畜栏选项不在字典范围（1 无, 2 单设, 3 室内, 4 室外） 
2020-06-09 13:11:35.871 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族填写错误同时满足以下条件： 1、民族不为空值 2、与56个名族的名称不符合 
2020-06-09 13:11:35.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:饮水超出字典范围饮水选项不在字典范围（1自来水, 2经净化过滤的水, 3井水, 4河湖水, 5 塘水, 6其他） 
2020-06-09 13:11:35.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:民族超出字典范围同时满足以下条件： 1、民族不为空值 2、民族不在字典范围内（民族字典按GB/T3304） 
2020-06-09 13:11:35.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:厨房排风设施超出字典范围厨房排风设施选项不在字典范围（1 无, 2 油烟机, 3 换气扇, 4 烟囱） 
2020-06-09 13:11:35.872 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-09 13:11:35.873 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-09 13:11:35.873 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:血型超出字典范围血型不在字典范围内（1 A 型  2 B 型  3 O 型  4 AB 型 ） 
2020-06-09 13:11:35.873 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表联系人电话联系人电话未填写 
2020-06-09 13:11:35.874 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:17 
2020-06-09 13:11:35.875 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-09 13:11:35.875 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2b41b4683ac44aa885e0d0ef089a3ca5(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 37bdeecdf7044a70a76394b6853245a3(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 59d8e69348314e3ca04bb4f0f94bd54e(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 6302b0fcdcd7482099581602a1fec501(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 7838cdc133cb43e1be4828444054e220(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 92dc5e8124ba4c5396a3fa7c3d1dd8db(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), 9dd8f43bbd5f4c6bb27aeca1774bc345(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), a827e00ae95e4c5a8d9e7227ca08b08a(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), a96f5e6051f541159fca9dec2d47050e(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), b617e78f0d204457b8db6cf72d9b1347(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), cac20bf188fd4f7296a3678a1604b001(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), caee967163d44945a84844b7d912b993(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), ec2230d5400f4fb8995526fb54ecb2dc(String), 2020-06-09 13:11:35.874(Timestamp), 31011310200312009116(String), ec56f4e1864e4a5bb0ad8ce1e94aa382(String), 2020-06-09 13:11:35.874(Timestamp) 
2020-06-09 13:11:35.894 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 17 
